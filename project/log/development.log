  [1m[35m (72.5ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (61.5ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateProducts (20230101083803)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "products" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar, "description" text, "image_url" varchar, "price" decimal(8,2), "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20230101083803"]]
  [1m[36mTRANSACTION (76.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2023-01-01 08:39:36.085293"], ["updated_at", "2023-01-01 08:39:36.085293"]]
  [1m[36mTRANSACTION (59.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/" for 127.0.0.1 at 2023-01-01 16:42:28 +0800
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Rails::WelcomeController#index as HTML
  Rendering /home/zhengmingyu/.rvm/gems/ruby-3.0.0/gems/railties-7.0.4/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /home/zhengmingyu/.rvm/gems/ruby-3.0.0/gems/railties-7.0.4/lib/rails/templates/rails/welcome/index.html.erb (Duration: 2.3ms | Allocations: 831)
Completed 200 OK in 17ms (Views: 7.7ms | ActiveRecord: 0.0ms | Allocations: 7237)


Started GET "/products" for 127.0.0.1 at 2023-01-01 16:42:40 +0800
Processing by ProductsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  â†³ app/views/products/index.html.erb:6
  Rendered products/index.html.erb within layouts/application (Duration: 10.0ms | Allocations: 1243)
  Rendered layout layouts/application.html.erb (Duration: 375.7ms | Allocations: 98477)
Completed 200 OK in 384ms (Views: 377.8ms | ActiveRecord: 0.4ms | Allocations: 100238)


Started GET "/products/new" for 127.0.0.1 at 2023-01-01 16:42:50 +0800
Processing by ProductsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering products/new.html.erb within layouts/application
  Rendered products/_form.html.erb (Duration: 61.3ms | Allocations: 6344)
  Rendered products/new.html.erb within layouts/application (Duration: 64.8ms | Allocations: 6676)
  Rendered layout layouts/application.html.erb (Duration: 76.6ms | Allocations: 8863)
Completed 200 OK in 130ms (Views: 77.3ms | ActiveRecord: 1.0ms | Allocations: 26064)


Started GET "/products/new" for 127.0.0.1 at 2023-01-01 16:46:08 +0800
Processing by ProductsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering products/new.html.erb within layouts/application
  Rendered products/_form.html.erb (Duration: 3.7ms | Allocations: 2048)
  Rendered products/new.html.erb within layouts/application (Duration: 5.0ms | Allocations: 2366)
  Rendered layout layouts/application.html.erb (Duration: 12.6ms | Allocations: 4853)
Completed 200 OK in 17ms (Views: 15.2ms | ActiveRecord: 0.0ms | Allocations: 5853)


Started POST "/products" for 127.0.0.1 at 2023-01-01 16:47:05 +0800
Processing by ProductsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "product"=>{"title"=>"web newer", "description"=>"whar asdasd  asda  asd a sd adadsad asd asd asdasda ads asd asd asda asdas  adada as asd asd asd asd asd asd asdasdasd asd asd asd asd asd asd asd asd asd ", "image_url"=>"/images/1.jpg", "price"=>"42.95"}, "commit"=>"Create Product"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/products_controller.rb:27:in `block in create'
  [1m[36mProduct Create (0.4ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "web newer"], ["description", "whar asdasd  asda  asd a sd adadsad asd asd asdasda ads asd asd asda asdas  adada as asd asd asd asd asd asd asdasdasd asd asd asd asd asd asd asd asd asd "], ["image_url", "/images/1.jpg"], ["price", 42.95], ["created_at", "2023-01-01 08:47:05.254402"], ["updated_at", "2023-01-01 08:47:05.254402"]]
  â†³ app/controllers/products_controller.rb:27:in `block in create'
  [1m[36mTRANSACTION (98.6ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/products_controller.rb:27:in `block in create'
Redirected to http://127.0.0.1:3000/products/1
Completed 302 Found in 109ms (ActiveRecord: 99.0ms | Allocations: 3494)


Started GET "/products/1" for 127.0.0.1 at 2023-01-01 16:47:05 +0800
Processing by ProductsController#show as TURBO_STREAM
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:63:in `set_product'
  Rendering layout layouts/application.html.erb
  Rendering products/show.html.erb within layouts/application
  Rendered products/_product.html.erb (Duration: 1.0ms | Allocations: 304)
  Rendered products/show.html.erb within layouts/application (Duration: 20.1ms | Allocations: 1597)
  Rendered layout layouts/application.html.erb (Duration: 23.7ms | Allocations: 3774)
Completed 200 OK in 32ms (Views: 24.4ms | ActiveRecord: 0.4ms | Allocations: 6562)


Started GET "/products" for 127.0.0.1 at 2023-01-01 16:47:16 +0800
Processing by ProductsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  â†³ app/views/products/index.html.erb:6
  Rendered products/_product.html.erb (Duration: 0.3ms | Allocations: 37)
  Rendered products/index.html.erb within layouts/application (Duration: 7.4ms | Allocations: 1166)
  Rendered layout layouts/application.html.erb (Duration: 13.4ms | Allocations: 3364)
Completed 200 OK in 18ms (Views: 14.9ms | ActiveRecord: 0.4ms | Allocations: 3774)


Started GET "/products" for 127.0.0.1 at 2023-01-01 17:10:37 +0800
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  â†³ app/views/products/index.html.erb:6
  Rendered products/_product.html.erb (Duration: 5.6ms | Allocations: 2574)
  Rendered products/index.html.erb within layouts/application (Duration: 30.6ms | Allocations: 21297)
  Rendered layout layouts/application.html.erb (Duration: 30.9ms | Allocations: 21381)
Completed 500 Internal Server Error in 46ms (ActiveRecord: 0.8ms | Allocations: 27363)


  
ActionView::SyntaxErrorInTemplate (Encountered a syntax error while rendering template: check <div id="<%= dom_id product %>">
  <p>
    <strong>Title:</strong>
    <%= product.title %>
  </p>

  <p>
    <strong>Description:</strong>
    <%= truncate(strip_tags(product.description)), :length => 80 %>
  </p>

  <p>
    <strong>Image url:</strong>
    <%= product.image_url %>
  </p>

  <p>
    <strong>Price:</strong>
    <%= product.price %>
  </p>

</div>

):
1:    <div id="<%= dom_id product %>">
2:      <p>
3:        <strong>Title:</strong>
4:        <%= product.title %>
5:      </p>
6:    
7:      <p>
8:        <strong>Description:</strong>
9:        <%= truncate(strip_tags(product.description)), :length => 80 %>
10:      </p>
11:    
12:      <p>
13:        <strong>Image url:</strong>
14:        <%= product.image_url %>
15:      </p>
16:    
17:      <p>
18:        <strong>Price:</strong>
19:        <%= product.price %>
20:      </p>
21:    
22:    </div>
  
app/views/products/_product.html.erb:9: syntax error, unexpected ',', expecting ')'
app/views/products/_product.html.erb:9: void value expression
app/views/products/_product.html.erb:9: syntax error, unexpected ',', expecting ')'
app/views/products/_product.html.erb:9: void value expression
app/views/products/_product.html.erb:9: syntax error, unexpected ',', expecting ')'
app/views/products/_product.html.erb:9: void value expression
app/views/products/_product.html.erb:9: syntax error, unexpected ',', expecting ')'
app/views/products/_product.html.erb:9: void value expression
app/views/products/_product.html.erb:9: syntax error, unexpected ',', expecting ')'
app/views/products/_product.html.erb:9: void value expression
app/views/products/_product.html.erb:9: syntax error, unexpected ',', expecting ')'
app/views/products/_product.html.erb:9: void value expression
app/views/products/index.html.erb:7
app/views/products/index.html.erb:6
Started GET "/products" for 127.0.0.1 at 2023-01-01 17:11:41 +0800
Processing by ProductsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  â†³ app/views/products/index.html.erb:6
  Rendered products/_product.html.erb (Duration: 1.7ms | Allocations: 1339)
  Rendered products/index.html.erb within layouts/application (Duration: 6.0ms | Allocations: 2481)
  Rendered layout layouts/application.html.erb (Duration: 6.3ms | Allocations: 2555)
Completed 500 Internal Server Error in 10ms (ActiveRecord: 0.2ms | Allocations: 3553)


  
ActionView::SyntaxErrorInTemplate (Encountered a syntax error while rendering template: check <div id="<%= dom_id product %>">
  <p>
    <strong>Title:</strong>
    <%= product.title %>
  </p>

  <p>
    <strong>Description:</strong>
    <%= product.description, :length => 80 %>
  </p>

  <p>
    <strong>Image url:</strong>
    <%= product.image_url %>
  </p>

  <p>
    <strong>Price:</strong>
    <%= product.price %>
  </p>

</div>

):
1:    <div id="<%= dom_id product %>">
2:      <p>
3:        <strong>Title:</strong>
4:        <%= product.title %>
5:      </p>
6:    
7:      <p>
8:        <strong>Description:</strong>
9:        <%= product.description, :length => 80 %>
10:      </p>
11:    
12:      <p>
13:        <strong>Image url:</strong>
14:        <%= product.image_url %>
15:      </p>
16:    
17:      <p>
18:        <strong>Price:</strong>
19:        <%= product.price %>
20:      </p>
21:    
22:    </div>
  
app/views/products/_product.html.erb:9: syntax error, unexpected =>, expecting '.' or &. or :: or '['
app/views/products/_product.html.erb:9: syntax error, unexpected =>, expecting '.' or &. or :: or '['
app/views/products/_product.html.erb:9: syntax error, unexpected =>, expecting '.' or &. or :: or '['
app/views/products/_product.html.erb:9: syntax error, unexpected =>, expecting '.' or &. or :: or '['
app/views/products/_product.html.erb:9: syntax error, unexpected =>, expecting '.' or &. or :: or '['
app/views/products/_product.html.erb:9: syntax error, unexpected =>, expecting '.' or &. or :: or '['
app/views/products/index.html.erb:7
app/views/products/index.html.erb:6
Started GET "/products" for 127.0.0.1 at 2023-01-01 17:12:01 +0800
Processing by ProductsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  â†³ app/views/products/index.html.erb:6
  Rendered products/_product.html.erb (Duration: 1.1ms | Allocations: 338)
  Rendered products/index.html.erb within layouts/application (Duration: 7.6ms | Allocations: 1641)
  Rendered layout layouts/application.html.erb (Duration: 80.5ms | Allocations: 35798)
Completed 200 OK in 85ms (Views: 82.7ms | ActiveRecord: 0.3ms | Allocations: 36855)


Started GET "/products/1" for 127.0.0.1 at 2023-01-01 17:12:04 +0800
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:63:in `set_product'
  Rendering layout layouts/application.html.erb
  Rendering products/show.html.erb within layouts/application
  Rendered products/_product.html.erb (Duration: 0.2ms | Allocations: 37)
  Rendered products/show.html.erb within layouts/application (Duration: 4.2ms | Allocations: 907)
  Rendered layout layouts/application.html.erb (Duration: 9.8ms | Allocations: 3088)
Completed 200 OK in 38ms (Views: 10.7ms | ActiveRecord: 0.4ms | Allocations: 8043)


Started DELETE "/products/1" for 127.0.0.1 at 2023-01-01 17:12:08 +0800
Processing by ProductsController#destroy as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "id"=>"1"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:63:in `set_product'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/products_controller.rb:52:in `destroy'
  [1m[36mProduct Destroy (0.5ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = ?[0m  [["id", 1]]
  â†³ app/controllers/products_controller.rb:52:in `destroy'
  [1m[36mTRANSACTION (108.6ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/products_controller.rb:52:in `destroy'
Redirected to http://127.0.0.1:3000/products
Completed 302 Found in 125ms (ActiveRecord: 109.6ms | Allocations: 2606)


Started GET "/products" for 127.0.0.1 at 2023-01-01 17:12:08 +0800
Processing by ProductsController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  â†³ app/views/products/index.html.erb:6
  Rendered products/index.html.erb within layouts/application (Duration: 4.1ms | Allocations: 794)
  Rendered layout layouts/application.html.erb (Duration: 10.9ms | Allocations: 2995)
Completed 200 OK in 15ms (Views: 12.5ms | ActiveRecord: 0.2ms | Allocations: 3370)


Started GET "/products" for 127.0.0.1 at 2023-01-01 17:13:50 +0800
Processing by ProductsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  â†³ app/views/products/index.html.erb:6
  Rendered products/index.html.erb within layouts/application (Duration: 3.4ms | Allocations: 1022)
  Rendered layout layouts/application.html.erb (Duration: 11.1ms | Allocations: 3526)
Completed 200 OK in 16ms (Views: 14.2ms | ActiveRecord: 0.2ms | Allocations: 4545)


Started GET "/products/new" for 127.0.0.1 at 2023-01-01 17:13:52 +0800
Processing by ProductsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering products/new.html.erb within layouts/application
  Rendered products/_form.html.erb (Duration: 22.1ms | Allocations: 7232)
  Rendered products/new.html.erb within layouts/application (Duration: 25.1ms | Allocations: 7539)
  Rendered layout layouts/application.html.erb (Duration: 31.0ms | Allocations: 9727)
Completed 200 OK in 35ms (Views: 32.9ms | ActiveRecord: 0.0ms | Allocations: 10134)


Started POST "/products" for 127.0.0.1 at 2023-01-01 17:14:02 +0800
Processing by ProductsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "product"=>{"title"=>"a", "description"=>"dasdsa", "image_url"=>"asd", "price"=>"as"}, "commit"=>"Create Product"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/products_controller.rb:27:in `block in create'
  [1m[36mProduct Create (0.4ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "a"], ["description", "dasdsa"], ["image_url", "asd"], ["price", 0.0], ["created_at", "2023-01-01 09:14:02.899029"], ["updated_at", "2023-01-01 09:14:02.899029"]]
  â†³ app/controllers/products_controller.rb:27:in `block in create'
  [1m[36mTRANSACTION (118.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/products_controller.rb:27:in `block in create'
Redirected to http://127.0.0.1:3000/products/2
Completed 302 Found in 130ms (ActiveRecord: 118.7ms | Allocations: 3189)


Started GET "/products/2" for 127.0.0.1 at 2023-01-01 17:14:03 +0800
Processing by ProductsController#show as TURBO_STREAM
  Parameters: {"id"=>"2"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:63:in `set_product'
  Rendering layout layouts/application.html.erb
  Rendering products/show.html.erb within layouts/application
  Rendered products/_product.html.erb (Duration: 1.3ms | Allocations: 271)
  Rendered products/show.html.erb within layouts/application (Duration: 4.8ms | Allocations: 1261)
  Rendered layout layouts/application.html.erb (Duration: 11.1ms | Allocations: 3441)
Completed 200 OK in 18ms (Views: 12.1ms | ActiveRecord: 0.3ms | Allocations: 4324)


Started GET "/products" for 127.0.0.1 at 2023-01-01 17:14:08 +0800
Processing by ProductsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  â†³ app/views/products/index.html.erb:6
  Rendered products/_product.html.erb (Duration: 0.2ms | Allocations: 28)
  Rendered products/index.html.erb within layouts/application (Duration: 2.0ms | Allocations: 919)
  Rendered layout layouts/application.html.erb (Duration: 5.0ms | Allocations: 3120)
Completed 200 OK in 6ms (Views: 5.5ms | ActiveRecord: 0.1ms | Allocations: 3444)


Started GET "/products/2" for 127.0.0.1 at 2023-01-01 17:14:11 +0800
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:63:in `set_product'
  Rendering layout layouts/application.html.erb
  Rendering products/show.html.erb within layouts/application
  Rendered products/_product.html.erb (Duration: 0.3ms | Allocations: 28)
  Rendered products/show.html.erb within layouts/application (Duration: 3.7ms | Allocations: 642)
  Rendered layout layouts/application.html.erb (Duration: 10.2ms | Allocations: 2823)
Completed 200 OK in 18ms (Views: 11.6ms | ActiveRecord: 0.5ms | Allocations: 3594)


Started DELETE "/products/2" for 127.0.0.1 at 2023-01-01 17:14:12 +0800
Processing by ProductsController#destroy as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "id"=>"2"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:63:in `set_product'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/products_controller.rb:52:in `destroy'
  [1m[36mProduct Destroy (0.4ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = ?[0m  [["id", 2]]
  â†³ app/controllers/products_controller.rb:52:in `destroy'
  [1m[36mTRANSACTION (53.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/products_controller.rb:52:in `destroy'
Redirected to http://127.0.0.1:3000/products
Completed 302 Found in 63ms (ActiveRecord: 54.1ms | Allocations: 2294)


Started GET "/products" for 127.0.0.1 at 2023-01-01 17:14:12 +0800
Processing by ProductsController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  â†³ app/views/products/index.html.erb:6
  Rendered products/index.html.erb within layouts/application (Duration: 1.4ms | Allocations: 777)
  Rendered layout layouts/application.html.erb (Duration: 5.1ms | Allocations: 2994)
Completed 200 OK in 6ms (Views: 5.6ms | ActiveRecord: 0.1ms | Allocations: 3321)


Started GET "/products" for 127.0.0.1 at 2023-01-01 17:22:09 +0800
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductsController#index as HTML
Completed 500 Internal Server Error in 7ms (ActiveRecord: 0.0ms | Allocations: 3850)


  
ArgumentError (The provided regular expression is using multiline anchors (^ or $), which may present a security risk. Did you mean to use \A and \z, or forgot to add the :multiline => true option?):
  
app/models/product.rb:5:in `<class:Product>'
app/models/product.rb:1:in `<main>'
app/controllers/products_controller.rb:6:in `index'
Started GET "/products" for 127.0.0.1 at 2023-01-01 17:23:16 +0800
Processing by ProductsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  â†³ app/views/products/index.html.erb:6
  Rendered products/index.html.erb within layouts/application (Duration: 3.6ms | Allocations: 1340)
  Rendered layout layouts/application.html.erb (Duration: 94.5ms | Allocations: 35761)
Completed 200 OK in 102ms (Views: 96.5ms | ActiveRecord: 0.5ms | Allocations: 37722)


Started GET "/products/new" for 127.0.0.1 at 2023-01-01 17:23:17 +0800
Processing by ProductsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering products/new.html.erb within layouts/application
  Rendered products/_form.html.erb (Duration: 7.3ms | Allocations: 4290)
  Rendered products/new.html.erb within layouts/application (Duration: 8.6ms | Allocations: 4599)
  Rendered layout layouts/application.html.erb (Duration: 15.6ms | Allocations: 6788)
Completed 200 OK in 43ms (Views: 16.5ms | ActiveRecord: 1.0ms | Allocations: 24009)


Started POST "/products" for 127.0.0.1 at 2023-01-01 17:23:28 +0800
Processing by ProductsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "product"=>{"title"=>"a", "description"=>"dsada", "image_url"=>"sadd", "price"=>"1dasd"}, "commit"=>"Create Product"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/products_controller.rb:27:in `block in create'
  [1m[36mProduct Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "products" WHERE "products"."title" = ? LIMIT ?[0m  [["title", "a"], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:27:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/products_controller.rb:27:in `block in create'
  Rendering layout layouts/application.html.erb
  Rendering products/new.html.erb within layouts/application
  Rendered products/_form.html.erb (Duration: 5.5ms | Allocations: 2432)
  Rendered products/new.html.erb within layouts/application (Duration: 6.1ms | Allocations: 2526)
  Rendered layout layouts/application.html.erb (Duration: 9.2ms | Allocations: 4762)
Completed 422 Unprocessable Entity in 19ms (Views: 10.3ms | ActiveRecord: 0.3ms | Allocations: 10211)


Started POST "/products" for 127.0.0.1 at 2023-01-01 17:23:36 +0800
Processing by ProductsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "product"=>{"title"=>"a", "description"=>"dsada", "image_url"=>"sadd", "price"=>"0.000001"}, "commit"=>"Create Product"}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/products_controller.rb:27:in `block in create'
  [1m[36mProduct Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "products" WHERE "products"."title" = ? LIMIT ?[0m  [["title", "a"], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:27:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/products_controller.rb:27:in `block in create'
  Rendering layout layouts/application.html.erb
  Rendering products/new.html.erb within layouts/application
  Rendered products/_form.html.erb (Duration: 8.0ms | Allocations: 2426)
  Rendered products/new.html.erb within layouts/application (Duration: 8.4ms | Allocations: 2520)
  Rendered layout layouts/application.html.erb (Duration: 12.5ms | Allocations: 4756)
Completed 422 Unprocessable Entity in 28ms (Views: 13.3ms | ActiveRecord: 0.6ms | Allocations: 7716)


Started POST "/products" for 127.0.0.1 at 2023-01-01 17:23:44 +0800
Processing by ProductsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "product"=>{"title"=>"a", "description"=>"dsada", "image_url"=>"sadd", "price"=>"12"}, "commit"=>"Create Product"}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/products_controller.rb:27:in `block in create'
  [1m[36mProduct Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "products" WHERE "products"."title" = ? LIMIT ?[0m  [["title", "a"], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:27:in `block in create'
  [1m[36mProduct Create (0.5ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "a"], ["description", "dsada"], ["image_url", "sadd"], ["price", 12.0], ["created_at", "2023-01-01 09:23:44.561920"], ["updated_at", "2023-01-01 09:23:44.561920"]]
  â†³ app/controllers/products_controller.rb:27:in `block in create'
  [1m[36mTRANSACTION (123.0ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/products_controller.rb:27:in `block in create'
Redirected to http://127.0.0.1:3000/products/3
Completed 302 Found in 140ms (ActiveRecord: 124.0ms | Allocations: 3941)


Started GET "/products/3" for 127.0.0.1 at 2023-01-01 17:23:44 +0800
Processing by ProductsController#show as TURBO_STREAM
  Parameters: {"id"=>"3"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:63:in `set_product'
  Rendering layout layouts/application.html.erb
  Rendering products/show.html.erb within layouts/application
  Rendered products/_product.html.erb (Duration: 1.0ms | Allocations: 290)
  Rendered products/show.html.erb within layouts/application (Duration: 6.1ms | Allocations: 1508)
  Rendered layout layouts/application.html.erb (Duration: 10.4ms | Allocations: 3688)
Completed 200 OK in 20ms (Views: 11.6ms | ActiveRecord: 0.5ms | Allocations: 5264)


Started GET "/products" for 127.0.0.1 at 2023-01-01 17:23:48 +0800
Processing by ProductsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  â†³ app/views/products/index.html.erb:6
  Rendered products/_product.html.erb (Duration: 0.4ms | Allocations: 28)
  Rendered products/index.html.erb within layouts/application (Duration: 6.2ms | Allocations: 904)
  Rendered layout layouts/application.html.erb (Duration: 13.1ms | Allocations: 3105)
Completed 200 OK in 16ms (Views: 14.1ms | ActiveRecord: 0.3ms | Allocations: 3429)


Started GET "/products/new" for 127.0.0.1 at 2023-01-01 17:23:50 +0800
Processing by ProductsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering products/new.html.erb within layouts/application
  Rendered products/_form.html.erb (Duration: 7.7ms | Allocations: 1548)
  Rendered products/new.html.erb within layouts/application (Duration: 8.4ms | Allocations: 1633)
  Rendered layout layouts/application.html.erb (Duration: 14.1ms | Allocations: 3821)
Completed 200 OK in 17ms (Views: 15.6ms | ActiveRecord: 0.0ms | Allocations: 4149)


Started POST "/products" for 127.0.0.1 at 2023-01-01 17:23:58 +0800
Processing by ProductsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "product"=>{"title"=>"a", "description"=>"1231231", "image_url"=>"23", "price"=>"12"}, "commit"=>"Create Product"}
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/products_controller.rb:27:in `block in create'
  [1m[36mProduct Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "products" WHERE "products"."title" = ? LIMIT ?[0m  [["title", "a"], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:27:in `block in create'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/products_controller.rb:27:in `block in create'
  Rendering layout layouts/application.html.erb
  Rendering products/new.html.erb within layouts/application
  Rendered products/_form.html.erb (Duration: 7.0ms | Allocations: 2400)
  Rendered products/new.html.erb within layouts/application (Duration: 7.7ms | Allocations: 2494)
  Rendered layout layouts/application.html.erb (Duration: 12.4ms | Allocations: 4729)
Completed 422 Unprocessable Entity in 30ms (Views: 13.7ms | ActiveRecord: 1.1ms | Allocations: 7640)


Started GET "/products" for 127.0.0.1 at 2023-01-01 17:24:03 +0800
Processing by ProductsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  â†³ app/views/products/index.html.erb:6
  Rendered products/_product.html.erb (Duration: 0.3ms | Allocations: 28)
  Rendered products/index.html.erb within layouts/application (Duration: 6.1ms | Allocations: 913)
  Rendered layout layouts/application.html.erb (Duration: 14.8ms | Allocations: 3114)
Completed 200 OK in 19ms (Views: 16.2ms | ActiveRecord: 0.3ms | Allocations: 3439)


Started GET "/products" for 127.0.0.1 at 2023-01-01 17:54:22 +0800
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  â†³ app/views/products/index.html.erb:6
  Rendered products/_product.html.erb (Duration: 0.6ms | Allocations: 336)
  Rendered products/index.html.erb within layouts/application (Duration: 29.9ms | Allocations: 19262)
  Rendered layout layouts/application.html.erb (Duration: 82.3ms | Allocations: 53510)
Completed 200 OK in 106ms (Views: 83.8ms | ActiveRecord: 1.4ms | Allocations: 59765)


Started GET "/" for 127.0.0.1 at 2023-01-01 17:54:26 +0800
Processing by StoreController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering store/index.html.erb within layouts/application
  Rendered store/index.html.erb within layouts/application (Duration: 0.5ms | Allocations: 115)
  Rendered layout layouts/application.html.erb (Duration: 4.0ms | Allocations: 2604)
Completed 200 OK in 7ms (Views: 5.7ms | ActiveRecord: 0.0ms | Allocations: 3482)


Started GET "/" for 127.0.0.1 at 2023-01-01 18:04:36 +0800
Processing by StoreController#index as HTML
Completed 500 Internal Server Error in 2ms (Allocations: 942)


  
ArgumentError (unknown keyword: :order):
  
app/models/product.rb:2:in `<class:Product>'
app/models/product.rb:1:in `<main>'
app/controllers/store_controller.rb:3:in `index'
Started GET "/" for 127.0.0.1 at 2023-01-01 18:08:35 +0800
Processing by StoreController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  â†³ app/views/store/index.html.erb:7
  Rendered store/index.html.erb within layouts/application (Duration: 8.3ms | Allocations: 4741)
  Rendered layout layouts/application.html.erb (Duration: 8.6ms | Allocations: 4813)
Completed 500 Internal Server Error in 16ms (ActiveRecord: 0.4ms | Allocations: 6601)


  
ActionView::Template::Error (The asset "sadd" is not present in the asset pipeline.
):
     6: 
     7: <% @products.each do |product| %>
     8:     <div class="entry">
     9:         <%= image_tag(product.image_url) %>
    10:         <h3><%= product.title %></h3>
    11:         <%= sanitize(product.description) %>
    12:         <div class="price_line">
  
app/views/store/index.html.erb:9
app/views/store/index.html.erb:7
  [1m[35m (59.0ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (62.1ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateProducts (20230101083803)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "products" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar, "description" text, "image_url" varchar, "price" decimal(8,2), "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20230101083803"]]
  [1m[36mTRANSACTION (65.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2023-01-01 10:16:44.703852"], ["updated_at", "2023-01-01 10:16:44.703852"]]
  [1m[36mTRANSACTION (40.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/" for 127.0.0.1 at 2023-01-01 18:16:53 +0800
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by StoreController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  â†³ app/views/store/index.html.erb:7
  Rendered store/index.html.erb within layouts/application (Duration: 5.6ms | Allocations: 1519)
  Rendered layout layouts/application.html.erb (Duration: 52.6ms | Allocations: 36034)
Completed 200 OK in 63ms (Views: 54.9ms | ActiveRecord: 0.2ms | Allocations: 42319)


Started GET "/products" for 127.0.0.1 at 2023-01-01 18:17:05 +0800
Processing by ProductsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  â†³ app/views/products/index.html.erb:6
  Rendered products/index.html.erb within layouts/application (Duration: 4.8ms | Allocations: 1085)
  Rendered layout layouts/application.html.erb (Duration: 10.6ms | Allocations: 3362)
Completed 200 OK in 14ms (Views: 12.4ms | ActiveRecord: 0.1ms | Allocations: 4296)


Started GET "/products/new" for 127.0.0.1 at 2023-01-01 18:20:15 +0800
Processing by ProductsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering products/new.html.erb within layouts/application
  Rendered products/_form.html.erb (Duration: 8.6ms | Allocations: 4283)
  Rendered products/new.html.erb within layouts/application (Duration: 9.9ms | Allocations: 4610)
  Rendered layout layouts/application.html.erb (Duration: 13.8ms | Allocations: 6799)
Completed 200 OK in 39ms (Views: 14.5ms | ActiveRecord: 1.0ms | Allocations: 26324)


Started POST "/products" for 127.0.0.1 at 2023-01-01 18:20:27 +0800
Processing by ProductsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "product"=>{"title"=>"one", "description"=>"asas", "image_url"=>"https://azaan-zheng.github.io/img/2CAD/faceFormer/4.png", "price"=>"4"}, "commit"=>"Create Product"}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/products_controller.rb:27:in `block in create'
  [1m[36mProduct Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "products" WHERE "products"."title" = ? LIMIT ?[0m  [["title", "one"], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:27:in `block in create'
  [1m[36mProduct Create (0.4ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "one"], ["description", "asas"], ["image_url", "https://azaan-zheng.github.io/img/2CAD/faceFormer/4.png"], ["price", 4.0], ["created_at", "2023-01-01 10:20:27.069718"], ["updated_at", "2023-01-01 10:20:27.069718"]]
  â†³ app/controllers/products_controller.rb:27:in `block in create'
  [1m[36mTRANSACTION (82.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/products_controller.rb:27:in `block in create'
Redirected to http://127.0.0.1:3000/products/1
Completed 302 Found in 105ms (ActiveRecord: 83.0ms | Allocations: 6096)


Started GET "/products/1" for 127.0.0.1 at 2023-01-01 18:20:27 +0800
Processing by ProductsController#show as TURBO_STREAM
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:63:in `set_product'
  Rendering layout layouts/application.html.erb
  Rendering products/show.html.erb within layouts/application
  Rendered products/_product.html.erb (Duration: 0.6ms | Allocations: 293)
  Rendered products/show.html.erb within layouts/application (Duration: 4.0ms | Allocations: 1527)
  Rendered layout layouts/application.html.erb (Duration: 7.2ms | Allocations: 3708)
Completed 200 OK in 12ms (Views: 8.0ms | ActiveRecord: 0.2ms | Allocations: 5286)


Started GET "/" for 127.0.0.1 at 2023-01-01 18:20:34 +0800
Processing by StoreController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  â†³ app/views/store/index.html.erb:7
  Rendered store/index.html.erb within layouts/application (Duration: 4.3ms | Allocations: 1003)
  Rendered layout layouts/application.html.erb (Duration: 10.9ms | Allocations: 3204)
Completed 200 OK in 14ms (Views: 12.1ms | ActiveRecord: 0.2ms | Allocations: 3526)


Started GET "/products" for 127.0.0.1 at 2023-01-01 18:24:27 +0800
Processing by ProductsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  â†³ app/views/products/index.html.erb:6
  Rendered products/_product.html.erb (Duration: 1.2ms | Allocations: 321)
  Rendered products/index.html.erb within layouts/application (Duration: 5.7ms | Allocations: 1560)
  Rendered layout layouts/application.html.erb (Duration: 14.0ms | Allocations: 4062)
Completed 200 OK in 19ms (Views: 16.5ms | ActiveRecord: 0.2ms | Allocations: 5091)


Started GET "/products" for 127.0.0.1 at 2023-01-01 18:30:44 +0800
Processing by ProductsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  â†³ app/views/products/index.html.erb:6
  Rendered products/_product.html.erb (Duration: 10.4ms | Allocations: 4953)
  Rendered products/index.html.erb within layouts/application (Duration: 17.3ms | Allocations: 6250)
  Rendered layout layouts/application.html.erb (Duration: 17.7ms | Allocations: 6323)
Completed 500 Internal Server Error in 21ms (ActiveRecord: 0.5ms | Allocations: 7326)


  
ActionView::SyntaxErrorInTemplate (Encountered a syntax error while rendering template: check <div id="<%= dom_id product %>">
  <p>
    <strong>Title:</strong>
    <%= product.title %>
  </p>

  <p>
    <strong>Description:</strong>
    <%= truncate(strip_tags(product.description)), :length => 80 %>
  </p>

  <p>
    <strong>Image:</strong>
    <%= image_tag(product.image_url, :class => 'list_image') %>
  </p>

  <p>
    <strong>Price:</strong>
    <%= product.price %>
  </p>

</div>

):
1:    <div id="<%= dom_id product %>">
2:      <p>
3:        <strong>Title:</strong>
4:        <%= product.title %>
5:      </p>
6:    
7:      <p>
8:        <strong>Description:</strong>
9:        <%= truncate(strip_tags(product.description)), :length => 80 %>
10:      </p>
11:    
12:      <p>
13:        <strong>Image:</strong>
14:        <%= image_tag(product.image_url, :class => 'list_image') %>
15:      </p>
16:    
17:      <p>
18:        <strong>Price:</strong>
19:        <%= product.price %>
20:      </p>
21:    
22:    </div>
  
app/views/products/_product.html.erb:9: syntax error, unexpected ',', expecting ')'
app/views/products/_product.html.erb:9: void value expression
app/views/products/_product.html.erb:9: syntax error, unexpected ',', expecting ')'
app/views/products/_product.html.erb:9: void value expression
app/views/products/_product.html.erb:9: syntax error, unexpected ',', expecting ')'
app/views/products/_product.html.erb:9: void value expression
app/views/products/_product.html.erb:9: syntax error, unexpected ',', expecting ')'
app/views/products/_product.html.erb:9: void value expression
app/views/products/_product.html.erb:9: syntax error, unexpected ',', expecting ')'
app/views/products/_product.html.erb:9: void value expression
app/views/products/_product.html.erb:9: syntax error, unexpected ',', expecting ')'
app/views/products/_product.html.erb:9: void value expression
app/views/products/index.html.erb:7
app/views/products/index.html.erb:6
Started GET "/products" for 127.0.0.1 at 2023-01-01 18:32:19 +0800
Processing by ProductsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  â†³ app/views/products/index.html.erb:6
  Rendered products/_product.html.erb (Duration: 2.0ms | Allocations: 1340)
  Rendered products/index.html.erb within layouts/application (Duration: 6.4ms | Allocations: 2479)
  Rendered layout layouts/application.html.erb (Duration: 6.7ms | Allocations: 2552)
Completed 500 Internal Server Error in 11ms (ActiveRecord: 0.2ms | Allocations: 3541)


  
ActionView::SyntaxErrorInTemplate (Encountered a syntax error while rendering template: check <div id="<%= dom_id product %>">
  <p>
    <strong>Title:</strong>
    <%= product.title %>
  </p>

  <p>
    <strong>Description:</strong>
    <%= truncate(strip_tags(product.description)), length: 80 %>
  </p>

  <p>
    <strong>Image:</strong>
    <%= image_tag(product.image_url, :class => 'list_image') %>
  </p>

  <p>
    <strong>Price:</strong>
    <%= product.price %>
  </p>

</div>

):
1:    <div id="<%= dom_id product %>">
2:      <p>
3:        <strong>Title:</strong>
4:        <%= product.title %>
5:      </p>
6:    
7:      <p>
8:        <strong>Description:</strong>
9:        <%= truncate(strip_tags(product.description)), length: 80 %>
10:      </p>
11:    
12:      <p>
13:        <strong>Image:</strong>
14:        <%= image_tag(product.image_url, :class => 'list_image') %>
15:      </p>
16:    
17:      <p>
18:        <strong>Price:</strong>
19:        <%= product.price %>
20:      </p>
21:    
22:    </div>
  
app/views/products/_product.html.erb:9: syntax error, unexpected ',', expecting ')'
app/views/products/_product.html.erb:9: syntax error, unexpected ',', expecting ')'
app/views/products/_product.html.erb:9: syntax error, unexpected ',', expecting ')'
app/views/products/_product.html.erb:9: syntax error, unexpected ',', expecting ')'
app/views/products/_product.html.erb:9: syntax error, unexpected ',', expecting ')'
app/views/products/_product.html.erb:9: syntax error, unexpected ',', expecting ')'
app/views/products/index.html.erb:7
app/views/products/index.html.erb:6
Started GET "/products" for 127.0.0.1 at 2023-01-01 18:33:00 +0800
Processing by ProductsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  â†³ app/views/products/index.html.erb:6
  Rendered products/_product.html.erb (Duration: 1.8ms | Allocations: 509)
  Rendered products/index.html.erb within layouts/application (Duration: 6.1ms | Allocations: 1743)
  Rendered layout layouts/application.html.erb (Duration: 12.5ms | Allocations: 4260)
Completed 200 OK in 16ms (Views: 14.3ms | ActiveRecord: 0.1ms | Allocations: 5281)


Started GET "/products/1" for 127.0.0.1 at 2023-01-01 18:33:29 +0800
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:63:in `set_product'
  Rendering layout layouts/application.html.erb
  Rendering products/show.html.erb within layouts/application
  Rendered products/_product.html.erb (Duration: 2.1ms | Allocations: 224)
  Rendered products/show.html.erb within layouts/application (Duration: 8.7ms | Allocations: 1047)
  Rendered layout layouts/application.html.erb (Duration: 16.2ms | Allocations: 3227)
Completed 200 OK in 23ms (Views: 17.6ms | ActiveRecord: 0.6ms | Allocations: 4094)


Started GET "/products" for 127.0.0.1 at 2023-01-01 18:33:32 +0800
Processing by ProductsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  â†³ app/views/products/index.html.erb:6
  Rendered products/_product.html.erb (Duration: 1.1ms | Allocations: 224)
  Rendered products/index.html.erb within layouts/application (Duration: 5.0ms | Allocations: 1114)
  Rendered layout layouts/application.html.erb (Duration: 11.5ms | Allocations: 3315)
Completed 200 OK in 14ms (Views: 12.5ms | ActiveRecord: 0.1ms | Allocations: 3639)


Started GET "/products/new" for 127.0.0.1 at 2023-01-01 18:33:38 +0800
Processing by ProductsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering products/new.html.erb within layouts/application
  Rendered products/_form.html.erb (Duration: 5.9ms | Allocations: 2041)
  Rendered products/new.html.erb within layouts/application (Duration: 8.5ms | Allocations: 2343)
  Rendered layout layouts/application.html.erb (Duration: 13.6ms | Allocations: 4531)
Completed 200 OK in 18ms (Views: 15.5ms | ActiveRecord: 0.0ms | Allocations: 4912)


Started POST "/products" for 127.0.0.1 at 2023-01-01 18:34:39 +0800
Processing by ProductsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "product"=>{"title"=>"çº¢çº¢ç«ç«å’Œ", "description"=>"é˜¿æ–¯å¤§èµ›å¤§é˜¿æ–¯å¤§èµ›å¤§é˜¿æ–¯å¤§èµ›å¤§é˜¿æ–¯å¤§èµ›å¤§é˜¿æ–¯å¤§èµ›å¤§é˜¿æ–¯å¤§èµ›å¤§é˜¿æ–¯å¤§èµ›å¤§é˜¿æ–¯å¤§èµ›å¤§é˜¿æ–¯å¤§èµ›å¤§é˜¿æ–¯å¤§èµ›å¤§é˜¿æ–¯å¤§èµ›å¤§é˜¿æ–¯å¤§èµ›å¤§é˜¿æ–¯å¤§èµ›å¤§é˜¿æ–¯å¤§èµ›å¤§é˜¿æ–¯å¤§èµ›å¤§é˜¿æ–¯å¤§èµ›å¤§é˜¿æ–¯å¤§èµ›å¤§é˜¿æ–¯å¤§èµ›å¤§é˜¿æ–¯å¤§èµ›å¤§é˜¿æ–¯å¤§èµ›å¤§é˜¿æ–¯å¤§èµ›å¤§é˜¿æ–¯å¤§èµ›å¤§", "image_url"=>"https://azaan-zheng.github.io/img/2CAD/faceFormer/2.png", "price"=>"3"}, "commit"=>"Create Product"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/products_controller.rb:27:in `block in create'
  [1m[36mProduct Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "products" WHERE "products"."title" = ? LIMIT ?[0m  [["title", "çº¢çº¢ç«ç«å’Œ"], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:27:in `block in create'
  [1m[36mProduct Create (0.5ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "çº¢çº¢ç«ç«å’Œ"], ["description", "é˜¿æ–¯å¤§èµ›å¤§é˜¿æ–¯å¤§èµ›å¤§é˜¿æ–¯å¤§èµ›å¤§é˜¿æ–¯å¤§èµ›å¤§é˜¿æ–¯å¤§èµ›å¤§é˜¿æ–¯å¤§èµ›å¤§é˜¿æ–¯å¤§èµ›å¤§é˜¿æ–¯å¤§èµ›å¤§é˜¿æ–¯å¤§èµ›å¤§é˜¿æ–¯å¤§èµ›å¤§é˜¿æ–¯å¤§èµ›å¤§é˜¿æ–¯å¤§èµ›å¤§é˜¿æ–¯å¤§èµ›å¤§é˜¿æ–¯å¤§èµ›å¤§é˜¿æ–¯å¤§èµ›å¤§é˜¿æ–¯å¤§èµ›å¤§é˜¿æ–¯å¤§èµ›å¤§é˜¿æ–¯å¤§èµ›å¤§é˜¿æ–¯å¤§èµ›å¤§é˜¿æ–¯å¤§èµ›å¤§é˜¿æ–¯å¤§èµ›å¤§é˜¿æ–¯å¤§èµ›å¤§"], ["image_url", "https://azaan-zheng.github.io/img/2CAD/faceFormer/2.png"], ["price", 3.0], ["created_at", "2023-01-01 10:34:39.720375"], ["updated_at", "2023-01-01 10:34:39.720375"]]
  â†³ app/controllers/products_controller.rb:27:in `block in create'
  [1m[36mTRANSACTION (120.7ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/products_controller.rb:27:in `block in create'
Redirected to http://127.0.0.1:3000/products/2
Completed 302 Found in 133ms (ActiveRecord: 121.5ms | Allocations: 3066)


Started GET "/products/2" for 127.0.0.1 at 2023-01-01 18:34:39 +0800
Processing by ProductsController#show as TURBO_STREAM
  Parameters: {"id"=>"2"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:63:in `set_product'
  Rendering layout layouts/application.html.erb
  Rendering products/show.html.erb within layouts/application
  Rendered products/_product.html.erb (Duration: 17.5ms | Allocations: 251)
  Rendered products/show.html.erb within layouts/application (Duration: 19.5ms | Allocations: 926)
  Rendered layout layouts/application.html.erb (Duration: 22.5ms | Allocations: 3106)
Completed 200 OK in 29ms (Views: 23.9ms | ActiveRecord: 0.4ms | Allocations: 3913)


Started GET "/products" for 127.0.0.1 at 2023-01-01 18:34:54 +0800
Processing by ProductsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  â†³ app/views/products/index.html.erb:6
  Rendered products/_product.html.erb (Duration: 2.2ms | Allocations: 224)
  Rendered products/_product.html.erb (Duration: 1.5ms | Allocations: 233)
  Rendered products/index.html.erb within layouts/application (Duration: 12.0ms | Allocations: 1442)
  Rendered layout layouts/application.html.erb (Duration: 20.0ms | Allocations: 3643)
Completed 200 OK in 23ms (Views: 21.3ms | ActiveRecord: 0.4ms | Allocations: 3967)


Started GET "/products" for 127.0.0.1 at 2023-01-01 18:36:24 +0800
Processing by ProductsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  â†³ app/views/products/index.html.erb:6
  Rendered products/index.html.erb within layouts/application (Duration: 5.3ms | Allocations: 1691)
  Rendered layout layouts/application.html.erb (Duration: 14.8ms | Allocations: 4192)
Completed 200 OK in 18ms (Views: 16.7ms | ActiveRecord: 0.1ms | Allocations: 5212)


Started GET "/products/1" for 127.0.0.1 at 2023-01-01 18:36:27 +0800
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:63:in `set_product'
  Rendering layout layouts/application.html.erb
  Rendering products/show.html.erb within layouts/application
  Rendered products/_product.html.erb (Duration: 1.0ms | Allocations: 312)
  Rendered products/show.html.erb within layouts/application (Duration: 3.6ms | Allocations: 1215)
  Rendered layout layouts/application.html.erb (Duration: 7.2ms | Allocations: 3395)
Completed 200 OK in 11ms (Views: 7.9ms | ActiveRecord: 0.2ms | Allocations: 4230)


Started GET "/products" for 127.0.0.1 at 2023-01-01 18:36:30 +0800
Processing by ProductsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  â†³ app/views/products/index.html.erb:6
  Rendered products/index.html.erb within layouts/application (Duration: 7.6ms | Allocations: 1289)
  Rendered layout layouts/application.html.erb (Duration: 14.5ms | Allocations: 3490)
Completed 200 OK in 16ms (Views: 15.0ms | ActiveRecord: 0.2ms | Allocations: 3814)


Started GET "/products/2" for 127.0.0.1 at 2023-01-01 18:36:31 +0800
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:63:in `set_product'
  Rendering layout layouts/application.html.erb
  Rendering products/show.html.erb within layouts/application
  Rendered products/_product.html.erb (Duration: 0.4ms | Allocations: 64)
  Rendered products/show.html.erb within layouts/application (Duration: 3.1ms | Allocations: 669)
  Rendered layout layouts/application.html.erb (Duration: 8.2ms | Allocations: 2849)
Completed 200 OK in 14ms (Views: 9.1ms | ActiveRecord: 0.3ms | Allocations: 3605)


Started GET "/products" for 127.0.0.1 at 2023-01-01 18:36:33 +0800
Processing by ProductsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  â†³ app/views/products/index.html.erb:6
  Rendered products/index.html.erb within layouts/application (Duration: 5.3ms | Allocations: 1307)
  Rendered layout layouts/application.html.erb (Duration: 11.5ms | Allocations: 3508)
Completed 200 OK in 14ms (Views: 12.4ms | ActiveRecord: 0.2ms | Allocations: 3832)


Started GET "/products" for 127.0.0.1 at 2023-01-01 20:07:13 +0800
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  â†³ app/views/products/index.html.erb:6
  Rendered products/index.html.erb within layouts/application (Duration: 73.4ms | Allocations: 19288)
  Rendered layout layouts/application.html.erb (Duration: 274.5ms | Allocations: 24777)
Completed 500 Internal Server Error in 299ms (ActiveRecord: 0.8ms | Allocations: 31044)


  
LoadError (cannot load such file -- sassc):
  
app/views/layouts/application.html.erb:9
Started GET "/products" for 127.0.0.1 at 2023-01-01 20:07:42 +0800
Processing by ProductsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  â†³ app/views/products/index.html.erb:6
  Rendered products/index.html.erb within layouts/application (Duration: 7.8ms | Allocations: 1690)
  Rendered layout layouts/application.html.erb (Duration: 13.5ms | Allocations: 4342)
Completed 500 Internal Server Error in 17ms (ActiveRecord: 0.2ms | Allocations: 5338)


  
LoadError (cannot load such file -- sassc):
  
app/views/layouts/application.html.erb:9
Started GET "/products" for 127.0.0.1 at 2023-01-01 20:09:12 +0800
Processing by ProductsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  â†³ app/views/products/index.html.erb:6
  Rendered products/index.html.erb within layouts/application (Duration: 6.2ms | Allocations: 1682)
  Rendered layout layouts/application.html.erb (Duration: 25.0ms | Allocations: 7555)
Completed 500 Internal Server Error in 29ms (ActiveRecord: 0.2ms | Allocations: 8541)


  
LoadError (cannot load such file -- sassc):
  
app/views/layouts/application.html.erb:9
Started GET "/products" for 127.0.0.1 at 2023-01-01 20:09:30 +0800
Processing by ProductsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  â†³ app/views/products/index.html.erb:6
  Rendered products/index.html.erb within layouts/application (Duration: 6.8ms | Allocations: 1688)
  Rendered layout layouts/application.html.erb (Duration: 13.4ms | Allocations: 4389)
Completed 500 Internal Server Error in 18ms (ActiveRecord: 0.3ms | Allocations: 5384)


  
LoadError (cannot load such file -- sassc):
  
app/views/layouts/application.html.erb:9
Started GET "/products" for 127.0.0.1 at 2023-01-01 20:09:32 +0800
Processing by ProductsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  â†³ app/views/products/index.html.erb:6
  Rendered products/index.html.erb within layouts/application (Duration: 6.4ms | Allocations: 1293)
  Rendered layout layouts/application.html.erb (Duration: 13.8ms | Allocations: 3683)
Completed 500 Internal Server Error in 16ms (ActiveRecord: 0.5ms | Allocations: 3972)


  
LoadError (cannot load such file -- sassc):
  
app/views/layouts/application.html.erb:9
Started GET "/products" for 127.0.0.1 at 2023-01-01 20:21:01 +0800
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (7.9ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  â†³ app/views/products/index.html.erb:6
  Rendered products/index.html.erb within layouts/application (Duration: 40.7ms | Allocations: 19289)
  Rendered layout layouts/application.html.erb (Duration: 1501.1ms | Allocations: 163898)
Completed 500 Internal Server Error in 1514ms (ActiveRecord: 8.8ms | Allocations: 170170)


  
ActionView::Template::Error (undefined method `start_with?' for /bootstrap\/glyphicons-halflings-regular\.(?:eot|svg|ttf|woff2?)$/:Regexp):
  
sprockets (4.2.0) lib/sprockets/uri_utils.rb:78:in `valid_asset_uri?'
sprockets (4.2.0) lib/sprockets/resolve.rb:27:in `resolve'
sprockets (4.2.0) lib/sprockets/base.rb:79:in `find_asset'
sprockets (4.2.0) lib/sprockets/base.rb:88:in `find_all_linked_assets'
sprockets (4.2.0) lib/sprockets/manifest.rb:125:in `each'
sprockets (4.2.0) lib/sprockets/manifest.rb:125:in `to_a'
sprockets (4.2.0) lib/sprockets/manifest.rb:125:in `block (2 levels) in find'
concurrent-ruby (1.1.10) lib/concurrent-ruby/concurrent/executor/safe_task_executor.rb:24:in `block in execute'
concurrent-ruby (1.1.10) lib/concurrent-ruby/concurrent/synchronization/mutex_lockable_object.rb:47:in `block in synchronize'
concurrent-ruby (1.1.10) lib/concurrent-ruby/concurrent/synchronization/mutex_lockable_object.rb:47:in `synchronize'
concurrent-ruby (1.1.10) lib/concurrent-ruby/concurrent/synchronization/mutex_lockable_object.rb:47:in `synchronize'
concurrent-ruby (1.1.10) lib/concurrent-ruby/concurrent/executor/safe_task_executor.rb:22:in `execute'
concurrent-ruby (1.1.10) lib/concurrent-ruby/concurrent/promise.rb:564:in `block in realize'
concurrent-ruby (1.1.10) lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:352:in `run_task'
concurrent-ruby (1.1.10) lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:343:in `block (3 levels) in create_worker'
concurrent-ruby (1.1.10) lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:334:in `loop'
concurrent-ruby (1.1.10) lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:334:in `block (2 levels) in create_worker'
concurrent-ruby (1.1.10) lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:333:in `catch'
concurrent-ruby (1.1.10) lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:333:in `block in create_worker'
Started GET "/" for 127.0.0.1 at 2023-01-01 20:21:14 +0800
Processing by StoreController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  â†³ app/views/store/index.html.erb:7
  Rendered store/index.html.erb within layouts/application (Duration: 16.0ms | Allocations: 1387)
  Rendered layout layouts/application.html.erb (Duration: 65.9ms | Allocations: 28471)
Completed 500 Internal Server Error in 69ms (ActiveRecord: 0.1ms | Allocations: 29336)


  
ActionView::Template::Error (undefined method `start_with?' for /bootstrap\/glyphicons-halflings-regular\.(?:eot|svg|ttf|woff2?)$/:Regexp):
  
sprockets (4.2.0) lib/sprockets/uri_utils.rb:78:in `valid_asset_uri?'
sprockets (4.2.0) lib/sprockets/resolve.rb:27:in `resolve'
sprockets (4.2.0) lib/sprockets/base.rb:79:in `find_asset'
sprockets (4.2.0) lib/sprockets/base.rb:88:in `find_all_linked_assets'
sprockets (4.2.0) lib/sprockets/manifest.rb:125:in `each'
sprockets (4.2.0) lib/sprockets/manifest.rb:125:in `to_a'
sprockets (4.2.0) lib/sprockets/manifest.rb:125:in `block (2 levels) in find'
concurrent-ruby (1.1.10) lib/concurrent-ruby/concurrent/executor/safe_task_executor.rb:24:in `block in execute'
concurrent-ruby (1.1.10) lib/concurrent-ruby/concurrent/synchronization/mutex_lockable_object.rb:47:in `block in synchronize'
concurrent-ruby (1.1.10) lib/concurrent-ruby/concurrent/synchronization/mutex_lockable_object.rb:47:in `synchronize'
concurrent-ruby (1.1.10) lib/concurrent-ruby/concurrent/synchronization/mutex_lockable_object.rb:47:in `synchronize'
concurrent-ruby (1.1.10) lib/concurrent-ruby/concurrent/executor/safe_task_executor.rb:22:in `execute'
concurrent-ruby (1.1.10) lib/concurrent-ruby/concurrent/promise.rb:564:in `block in realize'
concurrent-ruby (1.1.10) lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:352:in `run_task'
concurrent-ruby (1.1.10) lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:343:in `block (3 levels) in create_worker'
concurrent-ruby (1.1.10) lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:334:in `loop'
concurrent-ruby (1.1.10) lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:334:in `block (2 levels) in create_worker'
concurrent-ruby (1.1.10) lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:333:in `catch'
concurrent-ruby (1.1.10) lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:333:in `block in create_worker'
Started GET "/" for 127.0.0.1 at 2023-01-01 20:22:33 +0800
Processing by StoreController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  â†³ app/views/store/index.html.erb:7
  Rendered store/index.html.erb within layouts/application (Duration: 3.3ms | Allocations: 1067)
  Rendered layout layouts/application.html.erb (Duration: 706.5ms | Allocations: 57640)
Completed 500 Internal Server Error in 708ms (ActiveRecord: 0.1ms | Allocations: 57936)


  
ActionView::Template::Error (undefined method `start_with?' for /bootstrap\/glyphicons-halflings-regular\.(?:eot|svg|ttf|woff2?)$/:Regexp):
  
sprockets (4.2.0) lib/sprockets/uri_utils.rb:78:in `valid_asset_uri?'
sprockets (4.2.0) lib/sprockets/resolve.rb:27:in `resolve'
sprockets (4.2.0) lib/sprockets/base.rb:79:in `find_asset'
sprockets (4.2.0) lib/sprockets/base.rb:88:in `find_all_linked_assets'
sprockets (4.2.0) lib/sprockets/manifest.rb:125:in `each'
sprockets (4.2.0) lib/sprockets/manifest.rb:125:in `to_a'
sprockets (4.2.0) lib/sprockets/manifest.rb:125:in `block (2 levels) in find'
concurrent-ruby (1.1.10) lib/concurrent-ruby/concurrent/executor/safe_task_executor.rb:24:in `block in execute'
concurrent-ruby (1.1.10) lib/concurrent-ruby/concurrent/synchronization/mutex_lockable_object.rb:47:in `block in synchronize'
concurrent-ruby (1.1.10) lib/concurrent-ruby/concurrent/synchronization/mutex_lockable_object.rb:47:in `synchronize'
concurrent-ruby (1.1.10) lib/concurrent-ruby/concurrent/synchronization/mutex_lockable_object.rb:47:in `synchronize'
concurrent-ruby (1.1.10) lib/concurrent-ruby/concurrent/executor/safe_task_executor.rb:22:in `execute'
concurrent-ruby (1.1.10) lib/concurrent-ruby/concurrent/promise.rb:564:in `block in realize'
concurrent-ruby (1.1.10) lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:352:in `run_task'
concurrent-ruby (1.1.10) lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:343:in `block (3 levels) in create_worker'
concurrent-ruby (1.1.10) lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:334:in `loop'
concurrent-ruby (1.1.10) lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:334:in `block (2 levels) in create_worker'
concurrent-ruby (1.1.10) lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:333:in `catch'
concurrent-ruby (1.1.10) lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:333:in `block in create_worker'
Started GET "/" for 127.0.0.1 at 2023-01-01 20:26:41 +0800
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by StoreController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  â†³ app/views/store/index.html.erb:7
  Rendered store/index.html.erb within layouts/application (Duration: 51.3ms | Allocations: 19109)
  Rendered layout layouts/application.html.erb (Duration: 88.2ms | Allocations: 23734)
Completed 500 Internal Server Error in 134ms (ActiveRecord: 0.7ms | Allocations: 31175)


  
LoadError (cannot load such file -- sassc):
  
app/views/layouts/application.html.erb:9
Started GET "/" for 127.0.0.1 at 2023-01-01 20:59:19 +0800
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by StoreController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  â†³ app/views/store/index.html.erb:7
  Rendered store/index.html.erb within layouts/application (Duration: 45.2ms | Allocations: 18858)
  Rendered layout layouts/application.html.erb (Duration: 7901.5ms | Allocations: 188146)
Completed 200 OK in 7916ms (Views: 7905.6ms | ActiveRecord: 0.8ms | Allocations: 194430)


Started GET "/" for 127.0.0.1 at 2023-01-01 21:13:17 +0800
Processing by StoreController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  â†³ app/views/store/index.html.erb:7
  Rendered store/index.html.erb within layouts/application (Duration: 6.0ms | Allocations: 1519)
  Rendered layout layouts/application.html.erb (Duration: 142.5ms | Allocations: 46723)
Completed 200 OK in 145ms (Views: 144.2ms | ActiveRecord: 0.6ms | Allocations: 47717)


Started GET "/" for 127.0.0.1 at 2023-01-01 21:16:56 +0800
Processing by StoreController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  â†³ app/views/store/index.html.erb:7
  Rendered store/index.html.erb within layouts/application (Duration: 3.2ms | Allocations: 1076)
  Rendered layout layouts/application.html.erb (Duration: 5449.2ms | Allocations: 37525)
Completed 200 OK in 5450ms (Views: 5449.6ms | ActiveRecord: 0.1ms | Allocations: 37858)


Started GET "/" for 127.0.0.1 at 2023-01-01 21:17:49 +0800
Processing by StoreController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  â†³ app/views/store/index.html.erb:7
  Rendered store/index.html.erb within layouts/application (Duration: 6.8ms | Allocations: 1065)
  Rendered layout layouts/application.html.erb (Duration: 7115.3ms | Allocations: 37518)
Completed 200 OK in 7118ms (Views: 7116.2ms | ActiveRecord: 0.4ms | Allocations: 37848)


Started GET "/" for 127.0.0.1 at 2023-01-01 21:23:19 +0800
Processing by StoreController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (16.8ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  â†³ app/views/store/index.html.erb:7
  Rendered store/index.html.erb within layouts/application (Duration: 38.1ms | Allocations: 1514)
  Rendered layout layouts/application.html.erb (Duration: 5411.2ms | Allocations: 38353)
Completed 200 OK in 5427ms (Views: 5426.3ms | ActiveRecord: 17.6ms | Allocations: 39356)


Started GET "/" for 127.0.0.1 at 2023-01-01 21:23:49 +0800
Processing by StoreController#index as */*
  Rendering layout layouts/application.html.erb
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  â†³ app/views/store/index.html.erb:7
  Rendered store/index.html.erb within layouts/application (Duration: 6.4ms | Allocations: 910)
  Rendered layout layouts/application.html.erb (Duration: 19.2ms | Allocations: 6935)
Completed 200 OK in 22ms (Views: 20.1ms | ActiveRecord: 0.2ms | Allocations: 7347)


Started GET "/" for 127.0.0.1 at 2023-01-01 21:24:35 +0800
Processing by StoreController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  â†³ app/views/store/index.html.erb:7
  Rendered store/index.html.erb within layouts/application (Duration: 3.4ms | Allocations: 1072)
  Rendered layout layouts/application.html.erb (Duration: 5565.2ms | Allocations: 37529)
Completed 200 OK in 5566ms (Views: 5565.7ms | ActiveRecord: 0.2ms | Allocations: 37858)


Started GET "/" for 127.0.0.1 at 2023-01-01 21:25:18 +0800
Processing by StoreController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  â†³ app/views/store/index.html.erb:7
  Rendered store/index.html.erb within layouts/application (Duration: 5.0ms | Allocations: 1059)
  Rendered layout layouts/application.html.erb (Duration: 5492.1ms | Allocations: 38189)
Completed 200 OK in 5494ms (Views: 5492.5ms | ActiveRecord: 0.5ms | Allocations: 38510)


Started GET "/" for 127.0.0.1 at 2023-01-01 21:25:38 +0800
Processing by StoreController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  â†³ app/views/store/index.html.erb:7
  Rendered store/index.html.erb within layouts/application (Duration: 3.5ms | Allocations: 1076)
  Rendered layout layouts/application.html.erb (Duration: 5404.4ms | Allocations: 38186)
Completed 200 OK in 5406ms (Views: 5405.2ms | ActiveRecord: 0.2ms | Allocations: 38507)


Started GET "/" for 127.0.0.1 at 2023-01-01 21:28:29 +0800
Processing by StoreController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  â†³ app/views/store/index.html.erb:7
  Rendered store/index.html.erb within layouts/application (Duration: 4.2ms | Allocations: 1364)
  Rendered layout layouts/application.html.erb (Duration: 5145.6ms | Allocations: 38220)
Completed 200 OK in 5149ms (Views: 5147.0ms | ActiveRecord: 0.2ms | Allocations: 39216)


Started GET "/" for 127.0.0.1 at 2023-01-01 21:33:08 +0800
Processing by StoreController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  â†³ app/views/store/index.html.erb:7
  Rendered store/index.html.erb within layouts/application (Duration: 5.2ms | Allocations: 1056)
  Rendered layout layouts/application.html.erb (Duration: 5748.8ms | Allocations: 37519)
Completed 200 OK in 5751ms (Views: 5749.6ms | ActiveRecord: 0.4ms | Allocations: 37842)


  [1m[36mActiveRecord::SchemaMigration Pluck (11.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateCarts (20230101133749)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (10.3ms)[0m  [1m[35mCREATE TABLE "carts" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20230101133749"]]
  [1m[36mTRANSACTION (139.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateItems (20230101134651)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TABLE "items" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer, "cart_id" integer, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20230101134651"]]
  [1m[36mTRANSACTION (83.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/" for 127.0.0.1 at 2023-01-01 22:12:03 +0800
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by StoreController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  â†³ app/views/store/index.html.erb:7
  Rendered store/index.html.erb within layouts/application (Duration: 59.4ms | Allocations: 18990)
  Rendered layout layouts/application.html.erb (Duration: 6842.4ms | Allocations: 109577)
Completed 200 OK in 6911ms (Views: 6857.3ms | ActiveRecord: 1.0ms | Allocations: 118227)


Started POST "/items?product_id=1" for 127.0.0.1 at 2023-01-01 22:12:15 +0800
Processing by ItemsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "product_id"=>"1"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/application_controller.rb:7:in `rescue in current_cart'
  [1m[36mCart Create (0.5ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2023-01-01 14:12:15.774432"], ["updated_at", "2023-01-01 14:12:15.774432"]]
  â†³ app/controllers/application_controller.rb:7:in `rescue in current_cart'
  [1m[36mTRANSACTION (108.7ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/application_controller.rb:7:in `rescue in current_cart'
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/items_controller.rb:25:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/items_controller.rb:29:in `block in create'
  [1m[36mItem Create (0.9ms)[0m  [1m[32mINSERT INTO "items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 1], ["cart_id", 1], ["created_at", "2023-01-01 14:12:16.105804"], ["updated_at", "2023-01-01 14:12:16.105804"]]
  â†³ app/controllers/items_controller.rb:29:in `block in create'
  [1m[36mTRANSACTION (382.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/items_controller.rb:29:in `block in create'
Redirected to http://127.0.0.1:3000/carts/1
Completed 302 Found in 734ms (ActiveRecord: 494.3ms | Allocations: 35866)


Started GET "/carts/1" for 127.0.0.1 at 2023-01-01 22:12:16 +0800
Processing by CartsController#show as TURBO_STREAM
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/carts_controller.rb:63:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering carts/show.html.erb within layouts/application
  Rendered carts/_cart.html.erb (Duration: 5.1ms | Allocations: 155)
  Rendered carts/show.html.erb within layouts/application (Duration: 35.8ms | Allocations: 1478)
  Rendered layout layouts/application.html.erb (Duration: 93.0ms | Allocations: 7552)
Completed 200 OK in 120ms (Views: 100.8ms | ActiveRecord: 0.2ms | Allocations: 9581)


  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddQuantityToItems (20230102021412)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (1.8ms)[0m  [1m[35mALTER TABLE "items" ADD "quantity" integer DEFAULT 1[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20230102021412"]]
  [1m[36mTRANSACTION (100.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/" for 127.0.0.1 at 2023-01-02 10:30:13 +0800
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by StoreController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  â†³ app/views/store/index.html.erb:7
  Rendered store/index.html.erb within layouts/application (Duration: 74.3ms | Allocations: 18831)
  Rendered layout layouts/application.html.erb (Duration: 712.8ms | Allocations: 68818)
Completed 200 OK in 781ms (Views: 729.3ms | ActiveRecord: 2.0ms | Allocations: 77198)


Started POST "/items?product_id=1" for 127.0.0.1 at 2023-01-02 10:30:18 +0800
Processing by ItemsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "product_id"=>"1"}
Completed 500 Internal Server Error in 9ms (ActiveRecord: 0.0ms | Allocations: 1166)


  
SyntaxError (/home/zhengmingyu/work/Ruby/rubyStore/project/app/models/cart.rb:5: syntax error, unexpected ':', expecting ')'
...em = items.find_by(product_id :product_id)
...                              ^
/home/zhengmingyu/work/Ruby/rubyStore/project/app/models/cart.rb:9: syntax error, unexpected ':', expecting ')'
...item = items.build(product_id :product_id)
...                              ^
/home/zhengmingyu/work/Ruby/rubyStore/project/app/models/cart.rb:13: syntax error, unexpected end-of-input, expecting `end'):
  
app/models/cart.rb:5: syntax error, unexpected ':', expecting ')'
app/models/cart.rb:9: syntax error, unexpected ':', expecting ')'
app/models/cart.rb:13: syntax error, unexpected end-of-input, expecting `end'
app/models/cart.rb:5: syntax error, unexpected ':', expecting ')'
app/models/cart.rb:9: syntax error, unexpected ':', expecting ')'
app/models/cart.rb:13: syntax error, unexpected end-of-input, expecting `end'
app/models/cart.rb:5: syntax error, unexpected ':', expecting ')'
app/models/cart.rb:9: syntax error, unexpected ':', expecting ')'
app/models/cart.rb:13: syntax error, unexpected end-of-input, expecting `end'
app/controllers/application_controller.rb:5:in `current_cart'
app/controllers/items_controller.rb:24:in `create'
Started GET "/" for 127.0.0.1 at 2023-01-02 10:33:33 +0800
Processing by StoreController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  â†³ app/views/store/index.html.erb:7
  Rendered store/index.html.erb within layouts/application (Duration: 18.5ms | Allocations: 3772)
  Rendered layout layouts/application.html.erb (Duration: 51.5ms | Allocations: 23974)
Completed 200 OK in 60ms (Views: 54.4ms | ActiveRecord: 1.5ms | Allocations: 26662)


Started POST "/items?product_id=1" for 127.0.0.1 at 2023-01-02 10:33:36 +0800
Processing by ItemsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "product_id"=>"1"}
Completed 500 Internal Server Error in 6ms (ActiveRecord: 0.0ms | Allocations: 1130)


  
SyntaxError (/home/zhengmingyu/work/Ruby/rubyStore/project/app/models/cart.rb:9: syntax error, unexpected ':', expecting ')'
...item = items.build(product_id :product_id)
...                              ^
/home/zhengmingyu/work/Ruby/rubyStore/project/app/models/cart.rb:13: syntax error, unexpected end-of-input, expecting `end'):
  
app/models/cart.rb:9: syntax error, unexpected ':', expecting ')'
app/models/cart.rb:13: syntax error, unexpected end-of-input, expecting `end'
app/models/cart.rb:9: syntax error, unexpected ':', expecting ')'
app/models/cart.rb:13: syntax error, unexpected end-of-input, expecting `end'
app/models/cart.rb:9: syntax error, unexpected ':', expecting ')'
app/models/cart.rb:13: syntax error, unexpected end-of-input, expecting `end'
app/controllers/application_controller.rb:5:in `current_cart'
app/controllers/items_controller.rb:24:in `create'
Started GET "/" for 127.0.0.1 at 2023-01-02 10:34:03 +0800
Processing by StoreController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  â†³ app/views/store/index.html.erb:7
  Rendered store/index.html.erb within layouts/application (Duration: 10.7ms | Allocations: 3776)
  Rendered layout layouts/application.html.erb (Duration: 39.0ms | Allocations: 23979)
Completed 200 OK in 48ms (Views: 41.4ms | ActiveRecord: 1.7ms | Allocations: 26669)


Started POST "/items?product_id=1" for 127.0.0.1 at 2023-01-02 10:34:05 +0800
Processing by ItemsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "product_id"=>"1"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/application_controller.rb:7:in `rescue in current_cart'
  [1m[36mCart Create (0.9ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2023-01-02 02:34:06.026922"], ["updated_at", "2023-01-02 02:34:06.026922"]]
  â†³ app/controllers/application_controller.rb:7:in `rescue in current_cart'
  [1m[36mTRANSACTION (95.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/application_controller.rb:7:in `rescue in current_cart'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/items_controller.rb:25:in `create'
Completed 500 Internal Server Error in 121ms (ActiveRecord: 97.3ms | Allocations: 11309)


  
NameError (undefined local variable or method `product_id' for #<ItemsController:0x000000000181a0>
Did you mean?  product
               product_url):
  
app/controllers/items_controller.rb:26:in `create'
Started GET "/" for 127.0.0.1 at 2023-01-02 10:35:10 +0800
Processing by StoreController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  â†³ app/views/store/index.html.erb:7
  Rendered store/index.html.erb within layouts/application (Duration: 13.4ms | Allocations: 3775)
  Rendered layout layouts/application.html.erb (Duration: 41.0ms | Allocations: 23976)
Completed 200 OK in 48ms (Views: 43.1ms | ActiveRecord: 1.5ms | Allocations: 26663)


Started POST "/items?product_id=1" for 127.0.0.1 at 2023-01-02 10:35:12 +0800
Processing by ItemsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "product_id"=>"1"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/application_controller.rb:7:in `rescue in current_cart'
  [1m[36mCart Create (0.5ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2023-01-02 02:35:12.516095"], ["updated_at", "2023-01-02 02:35:12.516095"]]
  â†³ app/controllers/application_controller.rb:7:in `rescue in current_cart'
  [1m[36mTRANSACTION (54.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/application_controller.rb:7:in `rescue in current_cart'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/items_controller.rb:25:in `create'
  [1m[36mItem Load (0.2ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."cart_id" = ? AND "items"."product_id" = ? LIMIT ?[0m  [["cart_id", 3], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/items_controller.rb:29:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/items_controller.rb:29:in `block in create'
  [1m[36mItem Create (0.3ms)[0m  [1m[32mINSERT INTO "items" ("product_id", "cart_id", "created_at", "updated_at", "quantity") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 1], ["cart_id", 3], ["created_at", "2023-01-02 02:35:12.678995"], ["updated_at", "2023-01-02 02:35:12.678995"], ["quantity", 1]]
  â†³ app/controllers/items_controller.rb:29:in `block in create'
  [1m[36mTRANSACTION (59.7ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/items_controller.rb:29:in `block in create'
Redirected to http://127.0.0.1:3000/carts/3
Completed 302 Found in 243ms (ActiveRecord: 117.1ms | Allocations: 34638)


Started GET "/carts/3" for 127.0.0.1 at 2023-01-02 10:35:12 +0800
Processing by CartsController#show as TURBO_STREAM
  Parameters: {"id"=>"3"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/carts_controller.rb:63:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering carts/show.html.erb within layouts/application
  [1m[36mItem Load (0.2ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."cart_id" = ?[0m  [["cart_id", 3]]
  â†³ app/views/carts/_cart.html.erb:2
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/items/_item.html.erb:4
  Rendered collection of items/_item.html.erb [1 times] (Duration: 2.6ms | Allocations: 971)
  Rendered carts/_cart.html.erb (Duration: 7.1ms | Allocations: 2922)
  Rendered carts/show.html.erb within layouts/application (Duration: 27.5ms | Allocations: 4102)
  Rendered layout layouts/application.html.erb (Duration: 38.7ms | Allocations: 10263)
Completed 200 OK in 45ms (Views: 40.1ms | ActiveRecord: 0.8ms | Allocations: 12289)


Started GET "/carts" for 127.0.0.1 at 2023-01-02 10:35:17 +0800
Processing by CartsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  â†³ app/views/carts/index.html.erb:6
  [1m[36mItem Load (0.1ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."cart_id" = ?[0m  [["cart_id", 1]]
  â†³ app/views/carts/_cart.html.erb:2
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/items/_item.html.erb:4
  Rendered collection of items/_item.html.erb [1 times] (Duration: 1.6ms | Allocations: 744)
  Rendered carts/_cart.html.erb (Duration: 3.8ms | Allocations: 1506)
  [1m[36mItem Load (0.1ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."cart_id" = ?[0m  [["cart_id", 2]]
  â†³ app/views/carts/_cart.html.erb:2
  Rendered collection of templates [0 times] (Duration: 0.1ms | Allocations: 21)
  Rendered carts/_cart.html.erb (Duration: 2.5ms | Allocations: 741)
  [1m[36mItem Load (0.2ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."cart_id" = ?[0m  [["cart_id", 3]]
  â†³ app/views/carts/_cart.html.erb:2
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/items/_item.html.erb:4
  Rendered collection of items/_item.html.erb [1 times] (Duration: 2.1ms | Allocations: 712)
  Rendered carts/_cart.html.erb (Duration: 5.5ms | Allocations: 1473)
  Rendered carts/index.html.erb within layouts/application (Duration: 16.3ms | Allocations: 5054)
  Rendered layout layouts/application.html.erb (Duration: 27.5ms | Allocations: 11060)
Completed 200 OK in 29ms (Views: 27.5ms | ActiveRecord: 0.8ms | Allocations: 11468)


Started GET "/carts/2" for 127.0.0.1 at 2023-01-02 10:35:22 +0800
Processing by CartsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/carts_controller.rb:63:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering carts/show.html.erb within layouts/application
  [1m[36mItem Load (0.2ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."cart_id" = ?[0m  [["cart_id", 2]]
  â†³ app/views/carts/_cart.html.erb:2
  Rendered collection of templates [0 times] (Duration: 0.1ms | Allocations: 13)
  Rendered carts/_cart.html.erb (Duration: 2.8ms | Allocations: 727)
  Rendered carts/show.html.erb within layouts/application (Duration: 4.4ms | Allocations: 1277)
  Rendered layout layouts/application.html.erb (Duration: 16.7ms | Allocations: 7261)
Completed 200 OK in 20ms (Views: 17.7ms | ActiveRecord: 0.3ms | Allocations: 8014)


Started DELETE "/carts/2" for 127.0.0.1 at 2023-01-02 10:35:24 +0800
Processing by CartsController#destroy as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "id"=>"2"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/carts_controller.rb:63:in `set_cart'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[36mItem Load (0.4ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."cart_id" = ?[0m  [["cart_id", 2]]
  â†³ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[36mCart Destroy (0.4ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 2]]
  â†³ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[36mTRANSACTION (47.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/carts_controller.rb:52:in `destroy'
Redirected to http://127.0.0.1:3000/carts
Completed 302 Found in 69ms (ActiveRecord: 48.5ms | Allocations: 3139)


Started GET "/carts" for 127.0.0.1 at 2023-01-02 10:35:24 +0800
Processing by CartsController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  â†³ app/views/carts/index.html.erb:6
  [1m[36mItem Load (0.2ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."cart_id" = ?[0m  [["cart_id", 1]]
  â†³ app/views/carts/_cart.html.erb:2
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/items/_item.html.erb:4
  Rendered collection of items/_item.html.erb [1 times] (Duration: 2.0ms | Allocations: 744)
  Rendered carts/_cart.html.erb (Duration: 5.1ms | Allocations: 1505)
  [1m[36mItem Load (0.1ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."cart_id" = ?[0m  [["cart_id", 3]]
  â†³ app/views/carts/_cart.html.erb:2
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/items/_item.html.erb:4
  Rendered collection of items/_item.html.erb [1 times] (Duration: 2.1ms | Allocations: 704)
  Rendered carts/_cart.html.erb (Duration: 4.1ms | Allocations: 1466)
  Rendered carts/index.html.erb within layouts/application (Duration: 12.8ms | Allocations: 3912)
  Rendered layout layouts/application.html.erb (Duration: 28.2ms | Allocations: 9986)
Completed 200 OK in 30ms (Views: 28.6ms | ActiveRecord: 0.6ms | Allocations: 10314)


Started GET "/" for 127.0.0.1 at 2023-01-02 10:35:31 +0800
Processing by StoreController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  â†³ app/views/store/index.html.erb:7
  Rendered store/index.html.erb within layouts/application (Duration: 4.9ms | Allocations: 1415)
  Rendered layout layouts/application.html.erb (Duration: 17.1ms | Allocations: 7434)
Completed 200 OK in 19ms (Views: 17.7ms | ActiveRecord: 0.2ms | Allocations: 7757)


Started POST "/items?product_id=1" for 127.0.0.1 at 2023-01-02 10:35:33 +0800
Processing by ItemsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "product_id"=>"1"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:5:in `current_cart'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/items_controller.rb:25:in `create'
  [1m[36mItem Load (0.2ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."cart_id" = ? AND "items"."product_id" = ? LIMIT ?[0m  [["cart_id", 3], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/items_controller.rb:29:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/items_controller.rb:29:in `block in create'
  [1m[36mItem Update (0.3ms)[0m  [1m[33mUPDATE "items" SET "updated_at" = ?, "quantity" = ? WHERE "items"."id" = ?[0m  [["updated_at", "2023-01-02 02:35:33.629376"], ["quantity", 2], ["id", 2]]
  â†³ app/controllers/items_controller.rb:29:in `block in create'
  [1m[36mTRANSACTION (49.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/items_controller.rb:29:in `block in create'
Redirected to http://127.0.0.1:3000/carts/3
Completed 302 Found in 65ms (ActiveRecord: 50.8ms | Allocations: 4695)


Started GET "/carts/3" for 127.0.0.1 at 2023-01-02 10:35:33 +0800
Processing by CartsController#show as TURBO_STREAM
  Parameters: {"id"=>"3"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/carts_controller.rb:63:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering carts/show.html.erb within layouts/application
  [1m[36mItem Load (0.2ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."cart_id" = ?[0m  [["cart_id", 3]]
  â†³ app/views/carts/_cart.html.erb:2
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/items/_item.html.erb:4
  Rendered collection of items/_item.html.erb [1 times] (Duration: 9.0ms | Allocations: 741)
  Rendered carts/_cart.html.erb (Duration: 12.2ms | Allocations: 1499)
  Rendered carts/show.html.erb within layouts/application (Duration: 21.1ms | Allocations: 2070)
  Rendered layout layouts/application.html.erb (Duration: 63.6ms | Allocations: 8060)
Completed 200 OK in 66ms (Views: 64.1ms | ActiveRecord: 0.4ms | Allocations: 8816)


Started GET "/carts" for 127.0.0.1 at 2023-01-02 10:35:37 +0800
Processing by CartsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  â†³ app/views/carts/index.html.erb:6
  [1m[36mItem Load (29.2ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."cart_id" = ?[0m  [["cart_id", 1]]
  â†³ app/views/carts/_cart.html.erb:2
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/items/_item.html.erb:4
  Rendered collection of items/_item.html.erb [1 times] (Duration: 1.7ms | Allocations: 744)
  Rendered carts/_cart.html.erb (Duration: 35.8ms | Allocations: 1505)
  [1m[36mItem Load (0.1ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."cart_id" = ?[0m  [["cart_id", 3]]
  â†³ app/views/carts/_cart.html.erb:2
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/items/_item.html.erb:4
  Rendered collection of items/_item.html.erb [1 times] (Duration: 2.2ms | Allocations: 704)
  Rendered carts/_cart.html.erb (Duration: 4.9ms | Allocations: 1466)
  Rendered carts/index.html.erb within layouts/application (Duration: 46.5ms | Allocations: 3915)
  Rendered layout layouts/application.html.erb (Duration: 56.1ms | Allocations: 9936)
Completed 200 OK in 58ms (Views: 27.3ms | ActiveRecord: 29.6ms | Allocations: 10261)


Started GET "/carts/1" for 127.0.0.1 at 2023-01-02 10:35:41 +0800
Processing by CartsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/carts_controller.rb:63:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering carts/show.html.erb within layouts/application
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."cart_id" = ?[0m  [["cart_id", 1]]
  â†³ app/views/carts/_cart.html.erb:2
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/items/_item.html.erb:4
  Rendered collection of items/_item.html.erb [1 times] (Duration: 5.9ms | Allocations: 741)
  Rendered carts/_cart.html.erb (Duration: 11.0ms | Allocations: 1499)
  Rendered carts/show.html.erb within layouts/application (Duration: 13.7ms | Allocations: 2049)
  Rendered layout layouts/application.html.erb (Duration: 28.8ms | Allocations: 8033)
Completed 200 OK in 35ms (Views: 29.5ms | ActiveRecord: 1.1ms | Allocations: 8786)


Started DELETE "/carts/1" for 127.0.0.1 at 2023-01-02 10:35:42 +0800
Processing by CartsController#destroy as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/carts_controller.rb:63:in `set_cart'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[36mItem Load (0.2ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."cart_id" = ?[0m  [["cart_id", 1]]
  â†³ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[36mItem Destroy (0.3ms)[0m  [1m[31mDELETE FROM "items" WHERE "items"."id" = ?[0m  [["id", 1]]
  â†³ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[36mCart Destroy (0.3ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 1]]
  â†³ app/controllers/carts_controller.rb:52:in `destroy'
  [1m[36mTRANSACTION (74.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/carts_controller.rb:52:in `destroy'
Redirected to http://127.0.0.1:3000/carts
Completed 302 Found in 87ms (ActiveRecord: 75.4ms | Allocations: 3762)


Started GET "/carts" for 127.0.0.1 at 2023-01-02 10:35:42 +0800
Processing by CartsController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  â†³ app/views/carts/index.html.erb:6
  [1m[36mItem Load (0.1ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."cart_id" = ?[0m  [["cart_id", 3]]
  â†³ app/views/carts/_cart.html.erb:2
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/items/_item.html.erb:4
  Rendered collection of items/_item.html.erb [1 times] (Duration: 2.4ms | Allocations: 744)
  Rendered carts/_cart.html.erb (Duration: 4.7ms | Allocations: 1505)
  Rendered carts/index.html.erb within layouts/application (Duration: 6.8ms | Allocations: 2348)
  Rendered layout layouts/application.html.erb (Duration: 15.7ms | Allocations: 8356)
Completed 200 OK in 17ms (Views: 16.0ms | ActiveRecord: 0.4ms | Allocations: 8684)


Started GET "/" for 127.0.0.1 at 2023-01-02 10:35:49 +0800
Processing by StoreController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  â†³ app/views/store/index.html.erb:7
  Rendered store/index.html.erb within layouts/application (Duration: 4.8ms | Allocations: 1421)
  Rendered layout layouts/application.html.erb (Duration: 20.5ms | Allocations: 7457)
Completed 200 OK in 23ms (Views: 21.6ms | ActiveRecord: 0.2ms | Allocations: 7779)


Started POST "/items?product_id=2" for 127.0.0.1 at 2023-01-02 10:35:52 +0800
Processing by ItemsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "product_id"=>"2"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:5:in `current_cart'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/items_controller.rb:25:in `create'
  [1m[36mItem Load (0.1ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."cart_id" = ? AND "items"."product_id" = ? LIMIT ?[0m  [["cart_id", 3], ["product_id", 2], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/items_controller.rb:29:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/items_controller.rb:29:in `block in create'
  [1m[36mItem Create (0.3ms)[0m  [1m[32mINSERT INTO "items" ("product_id", "cart_id", "created_at", "updated_at", "quantity") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 2], ["cart_id", 3], ["created_at", "2023-01-02 02:35:52.111135"], ["updated_at", "2023-01-02 02:35:52.111135"], ["quantity", 1]]
  â†³ app/controllers/items_controller.rb:29:in `block in create'
  [1m[36mTRANSACTION (67.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/items_controller.rb:29:in `block in create'
Redirected to http://127.0.0.1:3000/carts/3
Completed 302 Found in 82ms (ActiveRecord: 68.2ms | Allocations: 4660)


Started GET "/carts/3" for 127.0.0.1 at 2023-01-02 10:35:52 +0800
Processing by CartsController#show as TURBO_STREAM
  Parameters: {"id"=>"3"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/carts_controller.rb:63:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering carts/show.html.erb within layouts/application
  [1m[36mItem Load (0.2ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."cart_id" = ?[0m  [["cart_id", 3]]
  â†³ app/views/carts/_cart.html.erb:2
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/items/_item.html.erb:4
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/items/_item.html.erb:4
  Rendered collection of items/_item.html.erb [2 times] (Duration: 3.9ms | Allocations: 1415)
  Rendered carts/_cart.html.erb (Duration: 6.8ms | Allocations: 2188)
  Rendered carts/show.html.erb within layouts/application (Duration: 8.6ms | Allocations: 2763)
  Rendered layout layouts/application.html.erb (Duration: 19.3ms | Allocations: 8807)
Completed 200 OK in 21ms (Views: 19.4ms | ActiveRecord: 0.5ms | Allocations: 9563)


Started GET "/carts" for 127.0.0.1 at 2023-01-02 10:35:57 +0800
Processing by CartsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  â†³ app/views/carts/index.html.erb:6
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."cart_id" = ?[0m  [["cart_id", 3]]
  â†³ app/views/carts/_cart.html.erb:2
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/items/_item.html.erb:4
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/items/_item.html.erb:4
  Rendered collection of items/_item.html.erb [2 times] (Duration: 5.1ms | Allocations: 1421)
  Rendered carts/_cart.html.erb (Duration: 9.3ms | Allocations: 2197)
  Rendered carts/index.html.erb within layouts/application (Duration: 15.5ms | Allocations: 3019)
  Rendered layout layouts/application.html.erb (Duration: 27.6ms | Allocations: 9028)
Completed 200 OK in 31ms (Views: 28.3ms | ActiveRecord: 1.0ms | Allocations: 9352)


  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CombineItemsInCart (20230102024020)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  [1m[36mItem Sum (0.2ms)[0m  [1m[34mSELECT SUM("items"."quantity") AS "sum_quantity", "items"."product_id" AS "items_product_id" FROM "items" WHERE "items"."cart_id" = ? GROUP BY "items"."product_id"[0m  [["cart_id", 3]]
  [1m[36mItem Delete All (0.2ms)[0m  [1m[31mDELETE FROM "items" WHERE "items"."cart_id" = ? AND "items"."product_id" = ?[0m  [["cart_id", 3], ["product_id", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mItem Create (0.1ms)[0m  [1m[32mINSERT INTO "items" ("product_id", "cart_id", "created_at", "updated_at", "quantity") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 1], ["cart_id", 3], ["created_at", "2023-01-02 02:47:50.896624"], ["updated_at", "2023-01-02 02:47:50.896624"], ["quantity", 2]]
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20230102024020"]]
  [1m[36mTRANSACTION (65.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.8ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/carts" for 127.0.0.1 at 2023-01-02 10:48:06 +0800
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by CartsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  â†³ app/views/carts/index.html.erb:6
  [1m[36mItem Load (0.2ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."cart_id" = ?[0m  [["cart_id", 3]]
  â†³ app/views/carts/_cart.html.erb:2
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/items/_item.html.erb:4
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/items/_item.html.erb:4
  Rendered collection of items/_item.html.erb [2 times] (Duration: 24.1ms | Allocations: 20695)
  Rendered carts/_cart.html.erb (Duration: 83.4ms | Allocations: 46838)
  Rendered carts/index.html.erb within layouts/application (Duration: 105.8ms | Allocations: 63032)
  Rendered layout layouts/application.html.erb (Duration: 190.1ms | Allocations: 113040)
Completed 200 OK in 206ms (Views: 191.0ms | ActiveRecord: 2.7ms | Allocations: 121212)


Started GET "/" for 127.0.0.1 at 2023-01-02 10:48:13 +0800
Processing by StoreController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  â†³ app/views/store/index.html.erb:7
  Rendered store/index.html.erb within layouts/application (Duration: 10.2ms | Allocations: 2019)
  Rendered layout layouts/application.html.erb (Duration: 25.8ms | Allocations: 8080)
Completed 200 OK in 30ms (Views: 28.0ms | ActiveRecord: 0.3ms | Allocations: 8978)


Started POST "/items?product_id=2" for 127.0.0.1 at 2023-01-02 11:09:36 +0800
Processing by ItemsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "product_id"=>"2"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:5:in `current_cart'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/items_controller.rb:25:in `create'
  [1m[36mItem Load (0.2ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."cart_id" = ? AND "items"."product_id" = ? LIMIT ?[0m  [["cart_id", 3], ["product_id", 2], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/items_controller.rb:29:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/items_controller.rb:29:in `block in create'
  [1m[36mItem Update (0.3ms)[0m  [1m[33mUPDATE "items" SET "updated_at" = ?, "quantity" = ? WHERE "items"."id" = ?[0m  [["updated_at", "2023-01-02 03:09:36.956094"], ["quantity", 2], ["id", 3]]
  â†³ app/controllers/items_controller.rb:29:in `block in create'
  [1m[36mTRANSACTION (60.7ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/items_controller.rb:29:in `block in create'
Redirected to http://127.0.0.1:3000/carts/3
Completed 302 Found in 80ms (ActiveRecord: 62.3ms | Allocations: 7555)


Started GET "/carts/3" for 127.0.0.1 at 2023-01-02 11:09:37 +0800
Processing by CartsController#show as TURBO_STREAM
  Parameters: {"id"=>"3"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/carts_controller.rb:63:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering carts/show.html.erb within layouts/application
  [1m[36mItem Load (0.1ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."cart_id" = ?[0m  [["cart_id", 3]]
  â†³ app/views/carts/_cart.html.erb:2
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/items/_item.html.erb:4
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/items/_item.html.erb:4
  Rendered collection of items/_item.html.erb [2 times] (Duration: 3.2ms | Allocations: 1415)
  Rendered carts/_cart.html.erb (Duration: 5.3ms | Allocations: 2217)
  Rendered carts/show.html.erb within layouts/application (Duration: 8.0ms | Allocations: 3065)
  Rendered layout layouts/application.html.erb (Duration: 20.9ms | Allocations: 9152)
Completed 200 OK in 24ms (Views: 21.3ms | ActiveRecord: 0.5ms | Allocations: 10039)


Started GET "/" for 127.0.0.1 at 2023-01-02 11:09:43 +0800
Processing by StoreController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  â†³ app/views/store/index.html.erb:7
  Rendered store/index.html.erb within layouts/application (Duration: 5.0ms | Allocations: 1456)
  Rendered layout layouts/application.html.erb (Duration: 23.2ms | Allocations: 7543)
Completed 200 OK in 25ms (Views: 24.0ms | ActiveRecord: 0.3ms | Allocations: 7872)


Started POST "/items?product_id=1" for 127.0.0.1 at 2023-01-02 11:09:45 +0800
Processing by ItemsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "product_id"=>"1"}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:5:in `current_cart'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/items_controller.rb:25:in `create'
  [1m[36mItem Load (0.2ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."cart_id" = ? AND "items"."product_id" = ? LIMIT ?[0m  [["cart_id", 3], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/items_controller.rb:29:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/items_controller.rb:29:in `block in create'
  [1m[36mItem Update (0.3ms)[0m  [1m[33mUPDATE "items" SET "updated_at" = ?, "quantity" = ? WHERE "items"."id" = ?[0m  [["updated_at", "2023-01-02 03:09:45.800938"], ["quantity", 3], ["id", 4]]
  â†³ app/controllers/items_controller.rb:29:in `block in create'
  [1m[36mTRANSACTION (58.0ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/items_controller.rb:29:in `block in create'
Redirected to http://127.0.0.1:3000/carts/3
Completed 302 Found in 82ms (ActiveRecord: 59.4ms | Allocations: 4610)


Started GET "/carts/3" for 127.0.0.1 at 2023-01-02 11:09:45 +0800
Processing by CartsController#show as TURBO_STREAM
  Parameters: {"id"=>"3"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/carts_controller.rb:63:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering carts/show.html.erb within layouts/application
  [1m[36mItem Load (0.2ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."cart_id" = ?[0m  [["cart_id", 3]]
  â†³ app/views/carts/_cart.html.erb:2
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/items/_item.html.erb:4
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/items/_item.html.erb:4
  Rendered collection of items/_item.html.erb [2 times] (Duration: 4.3ms | Allocations: 1415)
  Rendered carts/_cart.html.erb (Duration: 7.6ms | Allocations: 2188)
  Rendered carts/show.html.erb within layouts/application (Duration: 9.2ms | Allocations: 2753)
  Rendered layout layouts/application.html.erb (Duration: 18.9ms | Allocations: 8747)
Completed 200 OK in 24ms (Views: 20.1ms | ActiveRecord: 0.7ms | Allocations: 9505)


Started GET "/" for 127.0.0.1 at 2023-01-02 11:09:53 +0800
Processing by StoreController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  â†³ app/views/store/index.html.erb:7
  Rendered store/index.html.erb within layouts/application (Duration: 4.8ms | Allocations: 1417)
  Rendered layout layouts/application.html.erb (Duration: 22.5ms | Allocations: 7409)
Completed 200 OK in 25ms (Views: 24.0ms | ActiveRecord: 0.2ms | Allocations: 7730)


Started GET "/" for 127.0.0.1 at 2023-01-02 11:14:03 +0800
Processing by StoreController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  â†³ app/views/store/index.html.erb:7
  Rendered store/index.html.erb within layouts/application (Duration: 17.7ms | Allocations: 4076)
  Rendered layout layouts/application.html.erb (Duration: 60.8ms | Allocations: 24602)
Completed 200 OK in 69ms (Views: 63.1ms | ActiveRecord: 3.8ms | Allocations: 27571)


Started POST "/items?product_id=1" for 127.0.0.1 at 2023-01-02 11:14:06 +0800
Processing by ItemsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "product_id"=>"1"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:5:in `current_cart'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/items_controller.rb:25:in `create'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."cart_id" = ? AND "items"."product_id" = ? LIMIT ?[0m  [["cart_id", 3], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/items_controller.rb:29:in `block in create'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/items_controller.rb:29:in `block in create'
  [1m[36mItem Update (0.2ms)[0m  [1m[33mUPDATE "items" SET "updated_at" = ?, "quantity" = ? WHERE "items"."id" = ?[0m  [["updated_at", "2023-01-02 03:14:06.222460"], ["quantity", 4], ["id", 4]]
  â†³ app/controllers/items_controller.rb:29:in `block in create'
  [1m[36mTRANSACTION (70.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/items_controller.rb:29:in `block in create'
Redirected to http://127.0.0.1:3000/carts/3
Completed 302 Found in 112ms (ActiveRecord: 72.8ms | Allocations: 15628)


Started GET "/carts/3" for 127.0.0.1 at 2023-01-02 11:14:06 +0800
Processing by CartsController#show as TURBO_STREAM
  Parameters: {"id"=>"3"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/carts_controller.rb:65:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering carts/show.html.erb within layouts/application
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."cart_id" = ?[0m  [["cart_id", 3]]
  â†³ app/views/carts/_cart.html.erb:2
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/items/_item.html.erb:4
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/items/_item.html.erb:4
  Rendered collection of items/_item.html.erb [2 times] (Duration: 7.1ms | Allocations: 1620)
  Rendered carts/_cart.html.erb (Duration: 13.2ms | Allocations: 3578)
  Rendered carts/show.html.erb within layouts/application (Duration: 16.8ms | Allocations: 4578)
  Rendered layout layouts/application.html.erb (Duration: 29.0ms | Allocations: 10737)
Completed 200 OK in 35ms (Views: 31.2ms | ActiveRecord: 0.8ms | Allocations: 12142)


Started DELETE "/carts/3" for 127.0.0.1 at 2023-01-02 11:14:07 +0800
Processing by CartsController#destroy as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "id"=>"3"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/carts_controller.rb:65:in `set_cart'
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:5:in `current_cart'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/carts_controller.rb:53:in `destroy'
  [1m[36mItem Load (0.2ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."cart_id" = ?[0m  [["cart_id", 3]]
  â†³ app/controllers/carts_controller.rb:53:in `destroy'
  [1m[36mItem Destroy (0.4ms)[0m  [1m[31mDELETE FROM "items" WHERE "items"."id" = ?[0m  [["id", 3]]
  â†³ app/controllers/carts_controller.rb:53:in `destroy'
  [1m[36mItem Destroy (0.2ms)[0m  [1m[31mDELETE FROM "items" WHERE "items"."id" = ?[0m  [["id", 4]]
  â†³ app/controllers/carts_controller.rb:53:in `destroy'
  [1m[36mCart Destroy (0.2ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 3]]
  â†³ app/controllers/carts_controller.rb:53:in `destroy'
  [1m[36mTRANSACTION (69.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/carts_controller.rb:53:in `destroy'
Redirected to http://127.0.0.1:3000/
Completed 302 Found in 95ms (ActiveRecord: 71.3ms | Allocations: 4984)


Started GET "/" for 127.0.0.1 at 2023-01-02 11:14:07 +0800
Processing by StoreController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  â†³ app/views/store/index.html.erb:7
  Rendered store/index.html.erb within layouts/application (Duration: 5.0ms | Allocations: 1431)
  Rendered layout layouts/application.html.erb (Duration: 17.0ms | Allocations: 7423)
Completed 200 OK in 19ms (Views: 17.7ms | ActiveRecord: 0.2ms | Allocations: 7750)


Started GET "/" for 127.0.0.1 at 2023-01-02 11:37:12 +0800
Processing by StoreController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  â†³ app/views/store/index.html.erb:7
  Rendered store/index.html.erb within layouts/application (Duration: 11.3ms | Allocations: 3576)
  Rendered layout layouts/application.html.erb (Duration: 36.2ms | Allocations: 23835)
Completed 200 OK in 44ms (Views: 38.2ms | ActiveRecord: 0.6ms | Allocations: 26792)


Started POST "/items?product_id=1" for 127.0.0.1 at 2023-01-02 11:37:14 +0800
Processing by ItemsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "product_id"=>"1"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/application_controller.rb:7:in `rescue in current_cart'
  [1m[36mCart Create (0.5ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2023-01-02 03:37:14.935520"], ["updated_at", "2023-01-02 03:37:14.935520"]]
  â†³ app/controllers/application_controller.rb:7:in `rescue in current_cart'
  [1m[36mTRANSACTION (74.0ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/application_controller.rb:7:in `rescue in current_cart'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/items_controller.rb:25:in `create'
  [1m[36mItem Load (0.2ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."cart_id" = ? AND "items"."product_id" = ? LIMIT ?[0m  [["cart_id", 4], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/items_controller.rb:29:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/items_controller.rb:29:in `block in create'
  [1m[36mItem Create (0.2ms)[0m  [1m[32mINSERT INTO "items" ("product_id", "cart_id", "created_at", "updated_at", "quantity") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 1], ["cart_id", 4], ["created_at", "2023-01-02 03:37:15.030581"], ["updated_at", "2023-01-02 03:37:15.030581"], ["quantity", 1]]
  â†³ app/controllers/items_controller.rb:29:in `block in create'
  [1m[36mTRANSACTION (83.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/items_controller.rb:29:in `block in create'
Redirected to http://127.0.0.1:3000/carts/4
Completed 302 Found in 201ms (ActiveRecord: 158.7ms | Allocations: 16765)


Started GET "/carts/4" for 127.0.0.1 at 2023-01-02 11:37:15 +0800
Processing by CartsController#show as TURBO_STREAM
  Parameters: {"id"=>"4"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/carts_controller.rb:65:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering carts/show.html.erb within layouts/application
  [1m[36mItem Load (0.6ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."cart_id" = ?[0m  [["cart_id", 4]]
  â†³ app/views/carts/_cart.html.erb:2
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/items/_item.html.erb:4
  Rendered collection of items/_item.html.erb [1 times] (Duration: 3.7ms | Allocations: 949)
  Rendered carts/_cart.html.erb (Duration: 10.3ms | Allocations: 2893)
  Rendered carts/show.html.erb within layouts/application (Duration: 13.9ms | Allocations: 3897)
  Rendered layout layouts/application.html.erb (Duration: 27.9ms | Allocations: 9956)
Completed 200 OK in 34ms (Views: 28.9ms | ActiveRecord: 1.1ms | Allocations: 11978)


Started GET "/" for 127.0.0.1 at 2023-01-02 11:37:21 +0800
Processing by StoreController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  â†³ app/views/store/index.html.erb:7
  Rendered store/index.html.erb within layouts/application (Duration: 3.6ms | Allocations: 1419)
  Rendered layout layouts/application.html.erb (Duration: 21.4ms | Allocations: 7411)
Completed 200 OK in 23ms (Views: 22.2ms | ActiveRecord: 0.1ms | Allocations: 7733)


Started POST "/items?product_id=2" for 127.0.0.1 at 2023-01-02 11:37:24 +0800
Processing by ItemsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "product_id"=>"2"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:5:in `current_cart'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/items_controller.rb:25:in `create'
  [1m[36mItem Load (0.2ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."cart_id" = ? AND "items"."product_id" = ? LIMIT ?[0m  [["cart_id", 4], ["product_id", 2], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/items_controller.rb:29:in `block in create'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/items_controller.rb:29:in `block in create'
  [1m[36mItem Create (0.3ms)[0m  [1m[32mINSERT INTO "items" ("product_id", "cart_id", "created_at", "updated_at", "quantity") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 2], ["cart_id", 4], ["created_at", "2023-01-02 03:37:24.679460"], ["updated_at", "2023-01-02 03:37:24.679460"], ["quantity", 1]]
  â†³ app/controllers/items_controller.rb:29:in `block in create'
  [1m[36mTRANSACTION (58.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/items_controller.rb:29:in `block in create'
Redirected to http://127.0.0.1:3000/carts/4
Completed 302 Found in 74ms (ActiveRecord: 59.1ms | Allocations: 4691)


Started GET "/carts/4" for 127.0.0.1 at 2023-01-02 11:37:24 +0800
Processing by CartsController#show as TURBO_STREAM
  Parameters: {"id"=>"4"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/carts_controller.rb:65:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering carts/show.html.erb within layouts/application
  [1m[36mItem Load (0.1ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."cart_id" = ?[0m  [["cart_id", 4]]
  â†³ app/views/carts/_cart.html.erb:2
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/items/_item.html.erb:4
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/items/_item.html.erb:4
  Rendered collection of items/_item.html.erb [2 times] (Duration: 4.6ms | Allocations: 1415)
  Rendered carts/_cart.html.erb (Duration: 8.3ms | Allocations: 2219)
  Rendered carts/show.html.erb within layouts/application (Duration: 9.6ms | Allocations: 2789)
  Rendered layout layouts/application.html.erb (Duration: 19.0ms | Allocations: 8773)
Completed 200 OK in 21ms (Views: 19.1ms | ActiveRecord: 0.5ms | Allocations: 9529)


Started GET "/" for 127.0.0.1 at 2023-01-02 11:37:31 +0800
Processing by StoreController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  â†³ app/views/store/index.html.erb:7
  Rendered store/index.html.erb within layouts/application (Duration: 7.0ms | Allocations: 1431)
  Rendered layout layouts/application.html.erb (Duration: 20.6ms | Allocations: 7423)
Completed 200 OK in 23ms (Views: 21.5ms | ActiveRecord: 0.2ms | Allocations: 7744)


Started POST "/items?product_id=1" for 127.0.0.1 at 2023-01-02 11:37:33 +0800
Processing by ItemsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:5:in `current_cart'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/items_controller.rb:25:in `create'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."cart_id" = ? AND "items"."product_id" = ? LIMIT ?[0m  [["cart_id", 4], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/items_controller.rb:29:in `block in create'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/items_controller.rb:29:in `block in create'
  [1m[36mItem Update (0.4ms)[0m  [1m[33mUPDATE "items" SET "updated_at" = ?, "quantity" = ? WHERE "items"."id" = ?[0m  [["updated_at", "2023-01-02 03:37:33.469920"], ["quantity", 2], ["id", 5]]
  â†³ app/controllers/items_controller.rb:29:in `block in create'
  [1m[36mTRANSACTION (58.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/items_controller.rb:29:in `block in create'
Redirected to http://127.0.0.1:3000/carts/4
Completed 302 Found in 74ms (ActiveRecord: 59.2ms | Allocations: 4599)


Started GET "/carts/4" for 127.0.0.1 at 2023-01-02 11:37:33 +0800
Processing by CartsController#show as TURBO_STREAM
  Parameters: {"id"=>"4"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/carts_controller.rb:65:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering carts/show.html.erb within layouts/application
  [1m[36mItem Load (0.1ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."cart_id" = ?[0m  [["cart_id", 4]]
  â†³ app/views/carts/_cart.html.erb:2
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/items/_item.html.erb:4
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/items/_item.html.erb:4
  Rendered collection of items/_item.html.erb [2 times] (Duration: 4.0ms | Allocations: 1415)
  Rendered carts/_cart.html.erb (Duration: 6.0ms | Allocations: 2219)
  Rendered carts/show.html.erb within layouts/application (Duration: 7.4ms | Allocations: 2803)
  Rendered layout layouts/application.html.erb (Duration: 15.7ms | Allocations: 8787)
Completed 200 OK in 18ms (Views: 15.9ms | ActiveRecord: 0.5ms | Allocations: 9543)


Started GET "/carts/4" for 127.0.0.1 at 2023-01-02 12:33:09 +0800
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mCACHE ActiveRecord::SchemaMigration Pluck (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActiveRecord::PendingMigrationError (

Migrations are pending. To resolve this issue, run:

        bin/rails db:migrate RAILS_ENV=development

You have 1 pending migration:

20230102042821_create_orders.rb


):
  
activerecord (7.0.4) lib/active_record/migration.rb:627:in `check_pending!'
activerecord (7.0.4) lib/active_record/migration.rb:592:in `block (2 levels) in call'
activesupport (7.0.4) lib/active_support/file_update_checker.rb:83:in `execute'
activerecord (7.0.4) lib/active_record/migration.rb:597:in `block in call'
activerecord (7.0.4) lib/active_record/migration.rb:589:in `synchronize'
activerecord (7.0.4) lib/active_record/migration.rb:589:in `call'
actionpack (7.0.4) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.4) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.4) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.4) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.4) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
web-console (4.2.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `call'
actionpack (7.0.4) lib/action_dispatch/middleware/show_exceptions.rb:26:in `call'
railties (7.0.4) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.4) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.4) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.4) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.4) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.4) lib/rails/rack/logger.rb:25:in `call'
sprockets-rails (3.4.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (7.0.4) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.4) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.5) lib/rack/method_override.rb:24:in `call'
rack (2.2.5) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.4) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.4) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.4) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.4) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.4) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.5) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.4) lib/action_dispatch/middleware/host_authorization.rb:137:in `call'
railties (7.0.4) lib/rails/engine.rb:530:in `call'
puma (5.6.5) lib/puma/configuration.rb:252:in `call'
puma (5.6.5) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.5) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.5) lib/puma/request.rb:76:in `handle_request'
puma (5.6.5) lib/puma/server.rb:443:in `process_client'
puma (5.6.5) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateOrders (20230102042821)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TABLE "orders" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "address" text, "email" varchar, "pay_type" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20230102042821"]]
  [1m[36mTRANSACTION (71.4ms)[0m  [1m[36mcommit transaction[0m
Migrating to AddOrderIdToItem (20230102043411)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (1.4ms)[0m  [1m[35mALTER TABLE "items" ADD "order_id" integer[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20230102043411"]]
  [1m[36mTRANSACTION (47.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/" for 127.0.0.1 at 2023-01-02 12:34:39 +0800
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by StoreController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  â†³ app/views/store/index.html.erb:7
  Rendered store/index.html.erb within layouts/application (Duration: 32.3ms | Allocations: 18925)
  Rendered layout layouts/application.html.erb (Duration: 106.4ms | Allocations: 69129)
Completed 200 OK in 117ms (Views: 107.9ms | ActiveRecord: 0.9ms | Allocations: 77523)


Started POST "/items?product_id=1" for 127.0.0.1 at 2023-01-02 12:34:42 +0800
Processing by ItemsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "product_id"=>"1"}
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:5:in `current_cart'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/items_controller.rb:25:in `create'
  [1m[36mItem Load (0.2ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."cart_id" = ? AND "items"."product_id" = ? LIMIT ?[0m  [["cart_id", 4], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/items_controller.rb:29:in `block in create'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/items_controller.rb:29:in `block in create'
  [1m[36mItem Update (0.5ms)[0m  [1m[33mUPDATE "items" SET "updated_at" = ?, "quantity" = ? WHERE "items"."id" = ?[0m  [["updated_at", "2023-01-02 04:34:42.328662"], ["quantity", 3], ["id", 5]]
  â†³ app/controllers/items_controller.rb:29:in `block in create'
  [1m[36mTRANSACTION (63.7ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/items_controller.rb:29:in `block in create'
Redirected to http://127.0.0.1:3000/carts/4
Completed 302 Found in 139ms (ActiveRecord: 68.0ms | Allocations: 35805)


Started GET "/carts/4" for 127.0.0.1 at 2023-01-02 12:34:42 +0800
Processing by CartsController#show as TURBO_STREAM
  Parameters: {"id"=>"4"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/carts_controller.rb:65:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering carts/show.html.erb within layouts/application
  [1m[36mItem Load (0.2ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."cart_id" = ?[0m  [["cart_id", 4]]
  â†³ app/views/carts/_cart.html.erb:2
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/items/_item.html.erb:4
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/items/_item.html.erb:4
  Rendered collection of items/_item.html.erb [2 times] (Duration: 4.5ms | Allocations: 1643)
  Rendered carts/_cart.html.erb (Duration: 10.6ms | Allocations: 3752)
  Rendered carts/show.html.erb within layouts/application (Duration: 15.4ms | Allocations: 4934)
  Rendered layout layouts/application.html.erb (Duration: 24.6ms | Allocations: 10994)
Completed 200 OK in 31ms (Views: 26.6ms | ActiveRecord: 0.7ms | Allocations: 12404)


Started GET "/products" for 127.0.0.1 at 2023-01-02 12:34:51 +0800
Processing by ProductsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  â†³ app/views/products/index.html.erb:6
  Rendered products/index.html.erb within layouts/application (Duration: 16.0ms | Allocations: 1680)
  Rendered layout layouts/application.html.erb (Duration: 31.7ms | Allocations: 7862)
Completed 200 OK in 34ms (Views: 33.1ms | ActiveRecord: 0.1ms | Allocations: 8796)


Started GET "/products/1" for 127.0.0.1 at 2023-01-02 12:34:54 +0800
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:63:in `set_product'
  Rendering layout layouts/application.html.erb
  Rendering products/show.html.erb within layouts/application
  Rendered products/_product.html.erb (Duration: 12.3ms | Allocations: 317)
  Rendered products/show.html.erb within layouts/application (Duration: 22.1ms | Allocations: 1217)
  Rendered layout layouts/application.html.erb (Duration: 32.2ms | Allocations: 7214)
Completed 200 OK in 39ms (Views: 33.3ms | ActiveRecord: 0.3ms | Allocations: 8065)


Started GET "/products/1/edit" for 127.0.0.1 at 2023-01-02 12:34:56 +0800
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:63:in `set_product'
  Rendering layout layouts/application.html.erb
  Rendering products/edit.html.erb within layouts/application
  Rendered products/_form.html.erb (Duration: 90.4ms | Allocations: 6265)
  Rendered products/edit.html.erb within layouts/application (Duration: 101.3ms | Allocations: 6630)
  Rendered layout layouts/application.html.erb (Duration: 116.0ms | Allocations: 12616)
Completed 200 OK in 124ms (Views: 117.6ms | ActiveRecord: 0.4ms | Allocations: 13442)


Started PATCH "/products/1" for 127.0.0.1 at 2023-01-02 12:35:00 +0800
Processing by ProductsController#update as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "product"=>{"title"=>"one", "description"=>"asas", "image_url"=>"https://azaan-zheng.github.io/img/2CAD/faceFormer/4.png", "price"=>"8.0"}, "commit"=>"Update Product", "id"=>"1"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:63:in `set_product'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/products_controller.rb:40:in `block in update'
  [1m[36mProduct Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "products" WHERE "products"."title" = ? AND "products"."id" != ? LIMIT ?[0m  [["title", "one"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:40:in `block in update'
  [1m[36mProduct Update (0.5ms)[0m  [1m[33mUPDATE "products" SET "price" = ?, "updated_at" = ? WHERE "products"."id" = ?[0m  [["price", 8.0], ["updated_at", "2023-01-02 04:35:00.764264"], ["id", 1]]
  â†³ app/controllers/products_controller.rb:40:in `block in update'
  [1m[36mTRANSACTION (87.7ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/products_controller.rb:40:in `block in update'
Redirected to http://127.0.0.1:3000/products/1
Completed 302 Found in 111ms (ActiveRecord: 88.9ms | Allocations: 4207)


Started GET "/products/1" for 127.0.0.1 at 2023-01-02 12:35:00 +0800
Processing by ProductsController#show as TURBO_STREAM
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:63:in `set_product'
  Rendering layout layouts/application.html.erb
  Rendering products/show.html.erb within layouts/application
  Rendered products/_product.html.erb (Duration: 0.4ms | Allocations: 62)
  Rendered products/show.html.erb within layouts/application (Duration: 3.7ms | Allocations: 632)
  Rendered layout layouts/application.html.erb (Duration: 15.1ms | Allocations: 6618)
Completed 200 OK in 23ms (Views: 16.5ms | ActiveRecord: 0.4ms | Allocations: 7377)


Started GET "/carts/" for 127.0.0.1 at 2023-01-02 12:35:05 +0800
Processing by CartsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  â†³ app/views/carts/index.html.erb:6
  [1m[36mItem Load (0.1ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."cart_id" = ?[0m  [["cart_id", 4]]
  â†³ app/views/carts/_cart.html.erb:2
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/items/_item.html.erb:4
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/items/_item.html.erb:4
  Rendered collection of items/_item.html.erb [2 times] (Duration: 6.6ms | Allocations: 1421)
  Rendered carts/_cart.html.erb (Duration: 28.4ms | Allocations: 7439)
  Rendered carts/index.html.erb within layouts/application (Duration: 32.2ms | Allocations: 8475)
  Rendered layout layouts/application.html.erb (Duration: 32.6ms | Allocations: 8546)
Completed 500 Internal Server Error in 36ms (ActiveRecord: 0.7ms | Allocations: 8931)


  
ActionView::Template::Error (undefined method `total_price' for nil:NilClass):
    3: 
    4:     <div>
    5:         <h2>æ€»ä»·ï¼š</h2>
    6:         <div><%= @cart.total_price %></div>
    7:     </div>
    8: </div>
  
app/views/carts/_cart.html.erb:6
app/views/carts/index.html.erb:7
app/views/carts/index.html.erb:6
Started GET "/carts/4" for 127.0.0.1 at 2023-01-02 12:35:13 +0800
Processing by CartsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/carts_controller.rb:65:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering carts/show.html.erb within layouts/application
  [1m[36mItem Load (0.2ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."cart_id" = ?[0m  [["cart_id", 4]]
  â†³ app/views/carts/_cart.html.erb:2
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/items/_item.html.erb:4
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/items/_item.html.erb:4
  Rendered collection of items/_item.html.erb [2 times] (Duration: 5.0ms | Allocations: 1419)
  Rendered carts/_cart.html.erb (Duration: 8.4ms | Allocations: 2224)
  Rendered carts/show.html.erb within layouts/application (Duration: 12.1ms | Allocations: 2779)
  Rendered layout layouts/application.html.erb (Duration: 27.5ms | Allocations: 8865)
Completed 200 OK in 31ms (Views: 27.7ms | ActiveRecord: 0.6ms | Allocations: 9616)


Started GET "/carts/4" for 127.0.0.1 at 2023-01-02 12:36:05 +0800
Processing by CartsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/carts_controller.rb:65:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering carts/show.html.erb within layouts/application
  [1m[36mItem Load (0.2ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."cart_id" = ?[0m  [["cart_id", 4]]
  â†³ app/views/carts/_cart.html.erb:2
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/items/_item.html.erb:4
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/items/_item.html.erb:4
  Rendered collection of items/_item.html.erb [2 times] (Duration: 4.9ms | Allocations: 1416)
  Rendered carts/_cart.html.erb (Duration: 8.0ms | Allocations: 2221)
  Rendered carts/show.html.erb within layouts/application (Duration: 10.5ms | Allocations: 2772)
Started GET "/" for 127.0.0.1 at 2023-01-02 12:36:11 +0800
Processing by StoreController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  â†³ app/views/store/index.html.erb:7
  Rendered store/index.html.erb within layouts/application (Duration: 4.6ms | Allocations: 1578)
  Rendered layout layouts/application.html.erb (Duration: 7360.5ms | Allocations: 51026)
Completed 200 OK in 7366ms (Views: 7361.4ms | ActiveRecord: 0.7ms | Allocations: 51777)


  Rendered layout layouts/application.html.erb (Duration: 2201.3ms | Allocations: 17229)
Completed 200 OK in 2202ms (Views: 2201.5ms | ActiveRecord: 0.5ms | Allocations: 17551)


Started GET "/" for 127.0.0.1 at 2023-01-02 16:24:14 +0800
Processing by StoreController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  â†³ app/views/store/index.html.erb:7
  Rendered store/index.html.erb within layouts/application (Duration: 9.1ms | Allocations: 3640)
  Rendered layout layouts/application.html.erb (Duration: 34.3ms | Allocations: 24059)
Completed 200 OK in 39ms (Views: 35.7ms | ActiveRecord: 0.5ms | Allocations: 27025)


Started GET "/carts/4" for 127.0.0.1 at 2023-01-02 16:24:24 +0800
Processing by CartsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/carts_controller.rb:65:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering carts/show.html.erb within layouts/application
  [1m[36mItem Load (0.2ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."cart_id" = ?[0m  [["cart_id", 4]]
  â†³ app/views/carts/_cart.html.erb:2
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/items/_item.html.erb:4
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/items/_item.html.erb:4
  Rendered collection of items/_item.html.erb [2 times] (Duration: 5.9ms | Allocations: 3181)
  Rendered carts/_cart.html.erb (Duration: 17.8ms | Allocations: 10705)
  Rendered carts/show.html.erb within layouts/application (Duration: 23.3ms | Allocations: 11753)
  Rendered layout layouts/application.html.erb (Duration: 33.2ms | Allocations: 17812)
Completed 200 OK in 48ms (Views: 35.6ms | ActiveRecord: 0.7ms | Allocations: 22057)


Started DELETE "/carts/4" for 127.0.0.1 at 2023-01-02 16:24:29 +0800
Processing by CartsController#destroy as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "id"=>"4"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/carts_controller.rb:65:in `set_cart'
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:5:in `current_cart'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/carts_controller.rb:53:in `destroy'
  [1m[36mItem Load (0.1ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."cart_id" = ?[0m  [["cart_id", 4]]
  â†³ app/controllers/carts_controller.rb:53:in `destroy'
  [1m[36mItem Destroy (0.3ms)[0m  [1m[31mDELETE FROM "items" WHERE "items"."id" = ?[0m  [["id", 5]]
  â†³ app/controllers/carts_controller.rb:53:in `destroy'
  [1m[36mItem Destroy (0.2ms)[0m  [1m[31mDELETE FROM "items" WHERE "items"."id" = ?[0m  [["id", 6]]
  â†³ app/controllers/carts_controller.rb:53:in `destroy'
  [1m[36mCart Destroy (0.2ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 4]]
  â†³ app/controllers/carts_controller.rb:53:in `destroy'
  [1m[36mTRANSACTION (97.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/carts_controller.rb:53:in `destroy'
Redirected to http://127.0.0.1:3000/
Completed 302 Found in 115ms (ActiveRecord: 98.7ms | Allocations: 5003)


Started GET "/" for 127.0.0.1 at 2023-01-02 16:24:29 +0800
Processing by StoreController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  â†³ app/views/store/index.html.erb:7
  Rendered store/index.html.erb within layouts/application (Duration: 6.3ms | Allocations: 1433)
  Rendered layout layouts/application.html.erb (Duration: 19.9ms | Allocations: 7425)
Completed 200 OK in 22ms (Views: 20.7ms | ActiveRecord: 0.2ms | Allocations: 7799)


Started GET "/carts/4" for 127.0.0.1 at 2023-01-02 16:24:40 +0800
Processing by CartsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/carts_controller.rb:65:in `set_cart'
Completed 404 Not Found in 5ms (ActiveRecord: 0.3ms | Allocations: 911)


  
ActiveRecord::RecordNotFound (Couldn't find Cart with 'id'=4):
  
app/controllers/carts_controller.rb:65:in `set_cart'
Started GET "/carts/5" for 127.0.0.1 at 2023-01-02 16:24:44 +0800
Processing by CartsController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/carts_controller.rb:65:in `set_cart'
Completed 404 Not Found in 3ms (ActiveRecord: 0.2ms | Allocations: 898)


  
ActiveRecord::RecordNotFound (Couldn't find Cart with 'id'=5):
  
app/controllers/carts_controller.rb:65:in `set_cart'
Started GET "/" for 127.0.0.1 at 2023-01-02 16:24:50 +0800
Processing by StoreController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  â†³ app/views/store/index.html.erb:7
  Rendered store/index.html.erb within layouts/application (Duration: 6.8ms | Allocations: 1413)
  Rendered layout layouts/application.html.erb (Duration: 19.6ms | Allocations: 7421)
Completed 200 OK in 22ms (Views: 20.7ms | ActiveRecord: 0.4ms | Allocations: 7742)


Started POST "/items?product_id=1" for 127.0.0.1 at 2023-01-02 16:24:54 +0800
Processing by ItemsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "product_id"=>"1"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/application_controller.rb:7:in `rescue in current_cart'
  [1m[36mCart Create (0.5ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2023-01-02 08:24:54.195235"], ["updated_at", "2023-01-02 08:24:54.195235"]]
  â†³ app/controllers/application_controller.rb:7:in `rescue in current_cart'
  [1m[36mTRANSACTION (62.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/application_controller.rb:7:in `rescue in current_cart'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/items_controller.rb:25:in `create'
  [1m[36mItem Load (0.5ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."cart_id" = ? AND "items"."product_id" = ? LIMIT ?[0m  [["cart_id", 5], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/items_controller.rb:29:in `block in create'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/items_controller.rb:29:in `block in create'
  [1m[36mItem Create (0.4ms)[0m  [1m[32mINSERT INTO "items" ("product_id", "cart_id", "created_at", "updated_at", "quantity", "order_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["product_id", 1], ["cart_id", 5], ["created_at", "2023-01-02 08:24:54.290796"], ["updated_at", "2023-01-02 08:24:54.290796"], ["quantity", 1], ["order_id", nil]]
  â†³ app/controllers/items_controller.rb:29:in `block in create'
  [1m[36mTRANSACTION (60.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/items_controller.rb:29:in `block in create'
Redirected to http://127.0.0.1:3000/carts/5
Completed 302 Found in 162ms (ActiveRecord: 124.7ms | Allocations: 8141)


Started GET "/carts/5" for 127.0.0.1 at 2023-01-02 16:24:54 +0800
Processing by CartsController#show as TURBO_STREAM
  Parameters: {"id"=>"5"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/carts_controller.rb:65:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering carts/show.html.erb within layouts/application
  [1m[36mItem Load (0.1ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."cart_id" = ?[0m  [["cart_id", 5]]
  â†³ app/views/carts/_cart.html.erb:2
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/items/_item.html.erb:4
  Rendered collection of items/_item.html.erb [1 times] (Duration: 2.2ms | Allocations: 741)
  Rendered carts/_cart.html.erb (Duration: 4.3ms | Allocations: 1518)
  Rendered carts/show.html.erb within layouts/application (Duration: 6.1ms | Allocations: 2219)
  Rendered layout layouts/application.html.erb (Duration: 20.0ms | Allocations: 8203)
Completed 200 OK in 25ms (Views: 20.7ms | ActiveRecord: 0.5ms | Allocations: 8959)


Started GET "/carts/5/edit" for 127.0.0.1 at 2023-01-02 16:24:56 +0800
Processing by CartsController#edit as HTML
  Parameters: {"id"=>"5"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/carts_controller.rb:65:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering carts/edit.html.erb within layouts/application
  Rendered carts/_form.html.erb (Duration: 2.7ms | Allocations: 945)
  Rendered carts/edit.html.erb within layouts/application (Duration: 19.0ms | Allocations: 1302)
  Rendered layout layouts/application.html.erb (Duration: 30.9ms | Allocations: 7286)
Completed 200 OK in 37ms (Views: 32.5ms | ActiveRecord: 0.3ms | Allocations: 8093)


Started GET "/carts/5" for 127.0.0.1 at 2023-01-02 16:25:01 +0800
Processing by CartsController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/carts_controller.rb:65:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering carts/show.html.erb within layouts/application
  [1m[36mItem Load (0.2ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."cart_id" = ?[0m  [["cart_id", 5]]
  â†³ app/views/carts/_cart.html.erb:2
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/items/_item.html.erb:4
  Rendered collection of items/_item.html.erb [1 times] (Duration: 3.9ms | Allocations: 741)
  Rendered carts/_cart.html.erb (Duration: 8.2ms | Allocations: 1518)
  Rendered carts/show.html.erb within layouts/application (Duration: 10.7ms | Allocations: 2146)
  Rendered layout layouts/application.html.erb (Duration: 24.4ms | Allocations: 8133)
Completed 200 OK in 29ms (Views: 25.4ms | ActiveRecord: 0.6ms | Allocations: 8886)


Started GET "/carts/5/edit" for 127.0.0.1 at 2023-01-02 16:25:02 +0800
Processing by CartsController#edit as HTML
  Parameters: {"id"=>"5"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/carts_controller.rb:65:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering carts/edit.html.erb within layouts/application
  Rendered carts/_form.html.erb (Duration: 2.3ms | Allocations: 600)
  Rendered carts/edit.html.erb within layouts/application (Duration: 3.4ms | Allocations: 721)
  Rendered layout layouts/application.html.erb (Duration: 20.0ms | Allocations: 6705)
Completed 200 OK in 25ms (Views: 21.2ms | ActiveRecord: 0.2ms | Allocations: 7458)


Started PATCH "/carts/5" for 127.0.0.1 at 2023-01-02 16:25:03 +0800
Processing by CartsController#update as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "commit"=>"Update Cart", "id"=>"5"}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/carts_controller.rb:65:in `set_cart'
Redirected to http://127.0.0.1:3000/carts/5
Completed 302 Found in 9ms (ActiveRecord: 0.4ms | Allocations: 1104)


Started GET "/carts/5" for 127.0.0.1 at 2023-01-02 16:25:03 +0800
Processing by CartsController#show as TURBO_STREAM
  Parameters: {"id"=>"5"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/carts_controller.rb:65:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering carts/show.html.erb within layouts/application
  [1m[36mItem Load (0.2ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."cart_id" = ?[0m  [["cart_id", 5]]
  â†³ app/views/carts/_cart.html.erb:2
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/items/_item.html.erb:4
  Rendered collection of items/_item.html.erb [1 times] (Duration: 2.1ms | Allocations: 741)
  Rendered carts/_cart.html.erb (Duration: 4.6ms | Allocations: 1519)
  Rendered carts/show.html.erb within layouts/application (Duration: 6.4ms | Allocations: 2147)
  Rendered layout layouts/application.html.erb (Duration: 16.9ms | Allocations: 8131)
Completed 200 OK in 19ms (Views: 17.3ms | ActiveRecord: 0.4ms | Allocations: 8889)


Started GET "/orders/new" for 127.0.0.1 at 2023-01-02 16:25:42 +0800
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:5:in `current_cart'
  [1m[36mItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "items" WHERE "items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 5], ["LIMIT", 1]]
  â†³ app/controllers/orders_controller.rb:16:in `new'
  Rendering layout layouts/application.html.erb
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 8.1ms | Allocations: 2013)
  Rendered orders/new.html.erb within layouts/application (Duration: 9.5ms | Allocations: 2330)
  Rendered layout layouts/application.html.erb (Duration: 42.4ms | Allocations: 8412)
Completed 200 OK in 84ms (Views: 46.2ms | ActiveRecord: 2.0ms | Allocations: 26003)


Started GET "/orders" for 127.0.0.1 at 2023-01-02 16:25:48 +0800
Processing by OrdersController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  â†³ app/views/orders/index.html.erb:6
  Rendered orders/index.html.erb within layouts/application (Duration: 12.1ms | Allocations: 1034)
  Rendered layout layouts/application.html.erb (Duration: 38.4ms | Allocations: 7039)
Completed 200 OK in 45ms (Views: 39.3ms | ActiveRecord: 0.4ms | Allocations: 7480)


Started GET "/orders" for 127.0.0.1 at 2023-01-02 16:25:50 +0800
Processing by OrdersController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  â†³ app/views/orders/index.html.erb:6
  Rendered orders/index.html.erb within layouts/application (Duration: 4.2ms | Allocations: 701)
  Rendered layout layouts/application.html.erb (Duration: 34.3ms | Allocations: 6706)
Completed 200 OK in 36ms (Views: 35.6ms | ActiveRecord: 0.2ms | Allocations: 7028)


Started GET "/" for 127.0.0.1 at 2023-01-02 16:25:54 +0800
Processing by StoreController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  â†³ app/views/store/index.html.erb:7
  Rendered store/index.html.erb within layouts/application (Duration: 11.4ms | Allocations: 1422)
  Rendered layout layouts/application.html.erb (Duration: 27.5ms | Allocations: 7414)
Completed 200 OK in 29ms (Views: 28.3ms | ActiveRecord: 0.2ms | Allocations: 7737)


Started POST "/items?product_id=1" for 127.0.0.1 at 2023-01-02 16:25:55 +0800
Processing by ItemsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "product_id"=>"1"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:5:in `current_cart'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/items_controller.rb:25:in `create'
  [1m[36mItem Load (0.2ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."cart_id" = ? AND "items"."product_id" = ? LIMIT ?[0m  [["cart_id", 5], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/items_controller.rb:29:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/items_controller.rb:29:in `block in create'
  [1m[36mItem Update (0.3ms)[0m  [1m[33mUPDATE "items" SET "updated_at" = ?, "quantity" = ? WHERE "items"."id" = ?[0m  [["updated_at", "2023-01-02 08:25:55.992451"], ["quantity", 2], ["id", 7]]
  â†³ app/controllers/items_controller.rb:29:in `block in create'
  [1m[36mTRANSACTION (77.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/items_controller.rb:29:in `block in create'
Redirected to http://127.0.0.1:3000/carts/5
Completed 302 Found in 102ms (ActiveRecord: 78.5ms | Allocations: 4599)


Started GET "/carts/5" for 127.0.0.1 at 2023-01-02 16:25:56 +0800
Processing by CartsController#show as TURBO_STREAM
  Parameters: {"id"=>"5"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/carts_controller.rb:65:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering carts/show.html.erb within layouts/application
  [1m[36mItem Load (0.2ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."cart_id" = ?[0m  [["cart_id", 5]]
  â†³ app/views/carts/_cart.html.erb:2
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/items/_item.html.erb:4
  Rendered collection of items/_item.html.erb [1 times] (Duration: 3.0ms | Allocations: 741)
  Rendered carts/_cart.html.erb (Duration: 7.4ms | Allocations: 1518)
  Rendered carts/show.html.erb within layouts/application (Duration: 10.1ms | Allocations: 2154)
  Rendered layout layouts/application.html.erb (Duration: 26.4ms | Allocations: 8138)
Completed 200 OK in 30ms (Views: 27.0ms | ActiveRecord: 0.5ms | Allocations: 8895)


Started GET "/orders/new" for 127.0.0.1 at 2023-01-02 16:32:21 +0800
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:5:in `current_cart'
  [1m[36mItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "items" WHERE "items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 5], ["LIMIT", 1]]
  â†³ app/controllers/orders_controller.rb:16:in `new'
  Rendering layout layouts/application.html.erb
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 18.6ms | Allocations: 2397)
  Rendered orders/new.html.erb within layouts/application (Duration: 20.4ms | Allocations: 2717)
  Rendered layout layouts/application.html.erb (Duration: 51.0ms | Allocations: 23147)
Completed 200 OK in 75ms (Views: 55.3ms | ActiveRecord: 0.6ms | Allocations: 34026)


Started GET "/orders/new" for 127.0.0.1 at 2023-01-02 16:34:01 +0800
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:5:in `current_cart'
  [1m[36mItem Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "items" WHERE "items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 5], ["LIMIT", 1]]
  â†³ app/controllers/orders_controller.rb:16:in `new'
Completed 500 Internal Server Error in 17ms (ActiveRecord: 1.6ms | Allocations: 9575)


  
NameError (uninitialized constant Order::PAYMENT_TYPES):
  
app/models/order.rb:3:in `<class:Order>'
app/models/order.rb:1:in `<main>'
app/controllers/orders_controller.rb:21:in `new'
Started GET "/orders/new" for 127.0.0.1 at 2023-01-02 16:34:24 +0800
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:5:in `current_cart'
  [1m[36mItem Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "items" WHERE "items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 5], ["LIMIT", 1]]
  â†³ app/controllers/orders_controller.rb:16:in `new'
  Rendering layout layouts/application.html.erb
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 4.0ms | Allocations: 1482)
  Rendered orders/new.html.erb within layouts/application (Duration: 4.5ms | Allocations: 1579)
  Rendered layout layouts/application.html.erb (Duration: 26.8ms | Allocations: 21543)
Completed 200 OK in 53ms (Views: 29.3ms | ActiveRecord: 1.9ms | Allocations: 33232)


Started GET "/orders/new" for 127.0.0.1 at 2023-01-02 16:53:02 +0800
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:5:in `current_cart'
  [1m[36mItem Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "items" WHERE "items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 5], ["LIMIT", 1]]
  â†³ app/controllers/orders_controller.rb:16:in `new'
  Rendering layout layouts/application.html.erb
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 4.6ms | Allocations: 1481)
  Rendered orders/new.html.erb within layouts/application (Duration: 5.2ms | Allocations: 1578)
  Rendered layout layouts/application.html.erb (Duration: 32.9ms | Allocations: 21702)
Completed 200 OK in 90ms (Views: 35.5ms | ActiveRecord: 1.1ms | Allocations: 34836)


Started POST "/orders" for 127.0.0.1 at 2023-01-02 16:53:18 +0800
Processing by OrdersController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "order"=>{"name"=>"adasd", "address"=>"2123123", "email"=>"mingyu_zheng@126.com", "pay_type"=>""}, "commit"=>"Create Order"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:5:in `current_cart'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."cart_id" = ?[0m  [["cart_id", 5]]
  â†³ app/models/order.rb:9:in `add_items_from_cart'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/orders_controller.rb:35:in `block in create'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/orders_controller.rb:35:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/orders_controller.rb:35:in `block in create'
  Rendering layout layouts/application.html.erb
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 7.9ms | Allocations: 3984)
  Rendered orders/new.html.erb within layouts/application (Duration: 8.5ms | Allocations: 4078)
  Rendered layout layouts/application.html.erb (Duration: 18.0ms | Allocations: 10123)
Completed 422 Unprocessable Entity in 51ms (Views: 18.9ms | ActiveRecord: 2.3ms | Allocations: 23429)


Started POST "/orders" for 127.0.0.1 at 2023-01-02 16:53:36 +0800
Processing by OrdersController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "order"=>{"name"=>"adasd", "address"=>"2123123", "email"=>"mingyu_zheng@126.com", "pay_type"=>"å¾®ä¿¡"}, "commit"=>"Create Order"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:5:in `current_cart'
  [1m[36mItem Load (0.1ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."cart_id" = ?[0m  [["cart_id", 5]]
  â†³ app/models/order.rb:9:in `add_items_from_cart'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/orders_controller.rb:35:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/orders_controller.rb:35:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/orders_controller.rb:35:in `block in create'
  Rendering layout layouts/application.html.erb
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 4.5ms | Allocations: 1793)
  Rendered orders/new.html.erb within layouts/application (Duration: 4.9ms | Allocations: 1878)
  Rendered layout layouts/application.html.erb (Duration: 12.7ms | Allocations: 7862)
Completed 422 Unprocessable Entity in 23ms (Views: 13.2ms | ActiveRecord: 0.5ms | Allocations: 12249)


Started POST "/orders" for 127.0.0.1 at 2023-01-02 16:53:43 +0800
Processing by OrdersController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "order"=>{"name"=>"one", "address"=>"2123123", "email"=>"mingyu_zheng@126.com", "pay_type"=>"å¾®ä¿¡"}, "commit"=>"Create Order"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:5:in `current_cart'
  [1m[36mItem Load (0.2ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."cart_id" = ?[0m  [["cart_id", 5]]
  â†³ app/models/order.rb:9:in `add_items_from_cart'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/orders_controller.rb:35:in `block in create'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/orders_controller.rb:35:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/orders_controller.rb:35:in `block in create'
  Rendering layout layouts/application.html.erb
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 4.0ms | Allocations: 1793)
  Rendered orders/new.html.erb within layouts/application (Duration: 4.3ms | Allocations: 1878)
  Rendered layout layouts/application.html.erb (Duration: 14.4ms | Allocations: 7864)
Completed 422 Unprocessable Entity in 33ms (Views: 15.2ms | ActiveRecord: 0.9ms | Allocations: 12234)


Started POST "/orders" for 127.0.0.1 at 2023-01-02 16:53:45 +0800
Processing by OrdersController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "order"=>{"name"=>"one", "address"=>"2123123", "email"=>"mingyu_zheng@126.com", "pay_type"=>"å¾®ä¿¡"}, "commit"=>"Create Order"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:5:in `current_cart'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."cart_id" = ?[0m  [["cart_id", 5]]
  â†³ app/models/order.rb:9:in `add_items_from_cart'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/orders_controller.rb:35:in `block in create'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/orders_controller.rb:35:in `block in create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/orders_controller.rb:35:in `block in create'
  Rendering layout layouts/application.html.erb
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 4.0ms | Allocations: 1793)
  Rendered orders/new.html.erb within layouts/application (Duration: 4.3ms | Allocations: 1878)
  Rendered layout layouts/application.html.erb (Duration: 13.7ms | Allocations: 7869)
Completed 422 Unprocessable Entity in 37ms (Views: 14.6ms | ActiveRecord: 1.1ms | Allocations: 12235)


Started GET "/orders/new" for 127.0.0.1 at 2023-01-02 16:53:53 +0800
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:5:in `current_cart'
  [1m[36mItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "items" WHERE "items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 5], ["LIMIT", 1]]
  â†³ app/controllers/orders_controller.rb:16:in `new'
  Rendering layout layouts/application.html.erb
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 4.7ms | Allocations: 1393)
  Rendered orders/new.html.erb within layouts/application (Duration: 5.3ms | Allocations: 1478)
  Rendered layout layouts/application.html.erb (Duration: 21.1ms | Allocations: 7470)
Completed 200 OK in 27ms (Views: 22.5ms | ActiveRecord: 0.4ms | Allocations: 8990)


Started GET "/" for 127.0.0.1 at 2023-01-02 16:53:58 +0800
Processing by StoreController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  â†³ app/views/store/index.html.erb:7
  Rendered store/index.html.erb within layouts/application (Duration: 6.5ms | Allocations: 1840)
  Rendered layout layouts/application.html.erb (Duration: 18.6ms | Allocations: 7899)
Completed 200 OK in 23ms (Views: 21.1ms | ActiveRecord: 0.2ms | Allocations: 8747)


Started POST "/items?product_id=1" for 127.0.0.1 at 2023-01-02 16:54:02 +0800
Processing by ItemsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "product_id"=>"1"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:5:in `current_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/items_controller.rb:25:in `create'
  [1m[36mItem Load (0.2ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."cart_id" = ? AND "items"."product_id" = ? LIMIT ?[0m  [["cart_id", 5], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/items_controller.rb:29:in `block in create'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/items_controller.rb:29:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/items_controller.rb:29:in `block in create'
  Rendering layout layouts/application.html.erb
  Rendering items/new.html.erb within layouts/application
  Rendered items/_form.html.erb (Duration: 16.3ms | Allocations: 2115)
  Rendered items/new.html.erb within layouts/application (Duration: 29.0ms | Allocations: 2433)
  Rendered layout layouts/application.html.erb (Duration: 37.9ms | Allocations: 8495)
Completed 422 Unprocessable Entity in 53ms (Views: 39.7ms | ActiveRecord: 0.8ms | Allocations: 14556)


Started GET "/items" for 127.0.0.1 at 2023-01-02 16:54:17 +0800
Processing by ItemsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering items/index.html.erb within layouts/application
  [1m[36mItem Load (0.5ms)[0m  [1m[34mSELECT "items".* FROM "items"[0m
  â†³ app/views/items/index.html.erb:6
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/items/_item.html.erb:4
  Rendered items/_item.html.erb (Duration: 6.5ms | Allocations: 843)
  Rendered items/index.html.erb within layouts/application (Duration: 30.8ms | Allocations: 2121)
  Rendered layout layouts/application.html.erb (Duration: 44.5ms | Allocations: 8129)
Completed 200 OK in 46ms (Views: 44.5ms | ActiveRecord: 0.7ms | Allocations: 8535)


Started GET "/" for 127.0.0.1 at 2023-01-02 16:54:22 +0800
Processing by StoreController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  â†³ app/views/store/index.html.erb:7
  Rendered store/index.html.erb within layouts/application (Duration: 5.3ms | Allocations: 1435)
  Rendered layout layouts/application.html.erb (Duration: 17.6ms | Allocations: 7427)
Completed 200 OK in 19ms (Views: 18.2ms | ActiveRecord: 0.2ms | Allocations: 7749)


Started POST "/items?product_id=1" for 127.0.0.1 at 2023-01-02 16:54:24 +0800
Processing by ItemsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "product_id"=>"1"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:5:in `current_cart'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/items_controller.rb:25:in `create'
  [1m[36mItem Load (0.2ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."cart_id" = ? AND "items"."product_id" = ? LIMIT ?[0m  [["cart_id", 5], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/items_controller.rb:29:in `block in create'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/items_controller.rb:29:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/items_controller.rb:29:in `block in create'
  Rendering layout layouts/application.html.erb
  Rendering items/new.html.erb within layouts/application
  Rendered items/_form.html.erb (Duration: 3.4ms | Allocations: 1329)
  Rendered items/new.html.erb within layouts/application (Duration: 3.9ms | Allocations: 1414)
  Rendered layout layouts/application.html.erb (Duration: 12.2ms | Allocations: 7398)
Completed 422 Unprocessable Entity in 29ms (Views: 13.0ms | ActiveRecord: 1.4ms | Allocations: 11885)


Started GET "/" for 127.0.0.1 at 2023-01-02 16:57:53 +0800
Processing by StoreController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  â†³ app/views/store/index.html.erb:7
  Rendered store/index.html.erb within layouts/application (Duration: 11.0ms | Allocations: 3722)
  Rendered layout layouts/application.html.erb (Duration: 59.5ms | Allocations: 23756)
Completed 200 OK in 65ms (Views: 61.9ms | ActiveRecord: 1.6ms | Allocations: 26434)


Started POST "/items?product_id=1" for 127.0.0.1 at 2023-01-02 16:57:55 +0800
Processing by ItemsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "product_id"=>"1"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:5:in `current_cart'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/items_controller.rb:25:in `create'
  [1m[36mItem Load (0.2ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."cart_id" = ? AND "items"."product_id" = ? LIMIT ?[0m  [["cart_id", 5], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/items_controller.rb:29:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/items_controller.rb:29:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/items_controller.rb:29:in `block in create'
  Rendering layout layouts/application.html.erb
  Rendering items/new.html.erb within layouts/application
  Rendered items/_form.html.erb (Duration: 3.2ms | Allocations: 1400)
  Rendered items/new.html.erb within layouts/application (Duration: 3.6ms | Allocations: 1498)
  Rendered layout layouts/application.html.erb (Duration: 14.0ms | Allocations: 7560)
Completed 422 Unprocessable Entity in 57ms (Views: 15.5ms | ActiveRecord: 2.7ms | Allocations: 25624)


Started POST "/orders" for 127.0.0.1 at 2023-01-02 16:58:12 +0800
Processing by OrdersController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "order"=>{"name"=>"adasd", "address"=>"2123123", "email"=>"mingyu_zheng@126.com", "pay_type"=>""}, "commit"=>"Create Order"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:5:in `current_cart'
  [1m[36mItem Load (0.2ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."cart_id" = ?[0m  [["cart_id", 5]]
  â†³ app/models/order.rb:9:in `add_items_from_cart'
Completed 500 Internal Server Error in 17ms (ActiveRecord: 1.1ms | Allocations: 7886)


  
NameError (undefined local variable or method `items' for #<Order id: nil, name: "adasd", address: "2123123", email: "mingyu_zheng@126.com", pay_type: "", created_at: nil, updated_at: nil>):
  
app/models/order.rb:11:in `block in add_items_from_cart'
app/models/order.rb:9:in `add_items_from_cart'
app/controllers/orders_controller.rb:32:in `create'
Started GET "/orders/new" for 127.0.0.1 at 2023-01-02 16:58:24 +0800
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:5:in `current_cart'
  [1m[36mItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "items" WHERE "items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 5], ["LIMIT", 1]]
  â†³ app/controllers/orders_controller.rb:16:in `new'
  Rendering layout layouts/application.html.erb
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 5.5ms | Allocations: 1472)
  Rendered orders/new.html.erb within layouts/application (Duration: 6.2ms | Allocations: 1569)
  Rendered layout layouts/application.html.erb (Duration: 21.5ms | Allocations: 7653)
Completed 200 OK in 30ms (Views: 23.8ms | ActiveRecord: 0.4ms | Allocations: 9784)


Started GET "/" for 127.0.0.1 at 2023-01-02 17:01:24 +0800
Processing by StoreController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  â†³ app/views/store/index.html.erb:7
  Rendered store/index.html.erb within layouts/application (Duration: 13.4ms | Allocations: 3715)
  Rendered layout layouts/application.html.erb (Duration: 40.6ms | Allocations: 23752)
Completed 200 OK in 47ms (Views: 42.9ms | ActiveRecord: 2.1ms | Allocations: 26431)


Started POST "/items?product_id=1" for 127.0.0.1 at 2023-01-02 17:01:26 +0800
Processing by ItemsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "product_id"=>"1"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:5:in `current_cart'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/items_controller.rb:25:in `create'
  [1m[36mItem Load (0.2ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."cart_id" = ? AND "items"."product_id" = ? LIMIT ?[0m  [["cart_id", 5], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/items_controller.rb:29:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/items_controller.rb:29:in `block in create'
  [1m[36mItem Update (0.5ms)[0m  [1m[33mUPDATE "items" SET "updated_at" = ?, "quantity" = ? WHERE "items"."id" = ?[0m  [["updated_at", "2023-01-02 09:01:26.265120"], ["quantity", 3], ["id", 7]]
  â†³ app/controllers/items_controller.rb:29:in `block in create'
  [1m[36mTRANSACTION (70.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/items_controller.rb:29:in `block in create'
Redirected to http://127.0.0.1:3000/carts/5
Completed 302 Found in 122ms (ActiveRecord: 73.7ms | Allocations: 17016)


Started GET "/carts/5" for 127.0.0.1 at 2023-01-02 17:01:26 +0800
Processing by CartsController#show as TURBO_STREAM
  Parameters: {"id"=>"5"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/carts_controller.rb:65:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering carts/show.html.erb within layouts/application
  [1m[36mItem Load (0.2ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."cart_id" = ?[0m  [["cart_id", 5]]
  â†³ app/views/carts/_cart.html.erb:2
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/items/_item.html.erb:4
  Rendered collection of items/_item.html.erb [1 times] (Duration: 2.6ms | Allocations: 946)
  Rendered carts/_cart.html.erb (Duration: 5.9ms | Allocations: 2881)
  Rendered carts/show.html.erb within layouts/application (Duration: 8.6ms | Allocations: 3981)
  Rendered layout layouts/application.html.erb (Duration: 17.6ms | Allocations: 10056)
Completed 200 OK in 22ms (Views: 19.5ms | ActiveRecord: 0.5ms | Allocations: 11461)


Started GET "/orders/new" for 127.0.0.1 at 2023-01-02 17:01:29 +0800
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:5:in `current_cart'
  [1m[36mItem Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "items" WHERE "items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 5], ["LIMIT", 1]]
  â†³ app/controllers/orders_controller.rb:16:in `new'
  Rendering layout layouts/application.html.erb
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 4.3ms | Allocations: 1480)
  Rendered orders/new.html.erb within layouts/application (Duration: 4.7ms | Allocations: 1577)
  Rendered layout layouts/application.html.erb (Duration: 15.7ms | Allocations: 7646)
Completed 200 OK in 43ms (Views: 17.2ms | ActiveRecord: 1.7ms | Allocations: 13509)


Started POST "/orders" for 127.0.0.1 at 2023-01-02 17:01:46 +0800
Processing by OrdersController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "order"=>{"name"=>"onea", "address"=>"asasas", "email"=>"mingyu_zheng@126.com", "pay_type"=>"å¾®ä¿¡"}, "commit"=>"Create Order"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:5:in `current_cart'
  [1m[36mItem Load (0.2ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."cart_id" = ?[0m  [["cart_id", 5]]
  â†³ app/models/order.rb:9:in `add_items_from_cart'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/orders_controller.rb:35:in `block in create'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/orders_controller.rb:35:in `block in create'
  [1m[36mOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "onea"], ["address", "asasas"], ["email", "mingyu_zheng@126.com"], ["pay_type", "å¾®ä¿¡"], ["created_at", "2023-01-02 09:01:46.560414"], ["updated_at", "2023-01-02 09:01:46.560414"]]
  â†³ app/controllers/orders_controller.rb:35:in `block in create'
  [1m[36mItem Update (0.2ms)[0m  [1m[33mUPDATE "items" SET "cart_id" = ?, "updated_at" = ?, "order_id" = ? WHERE "items"."id" = ?[0m  [["cart_id", nil], ["updated_at", "2023-01-02 09:01:46.562832"], ["order_id", 1], ["id", 7]]
  â†³ app/controllers/orders_controller.rb:35:in `block in create'
  [1m[36mTRANSACTION (120.6ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/orders_controller.rb:35:in `block in create'
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/orders_controller.rb:36:in `block in create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/orders_controller.rb:36:in `block in create'
  [1m[36mItem Load (0.3ms)[0m  [1m[34mSELECT "items".* FROM "items" WHERE "items"."cart_id" = ?[0m  [["cart_id", 5]]
  â†³ app/controllers/orders_controller.rb:36:in `block in create'
  [1m[36mCart Destroy (0.6ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 5]]
  â†³ app/controllers/orders_controller.rb:36:in `block in create'
  [1m[36mTRANSACTION (55.7ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/orders_controller.rb:36:in `block in create'
Redirected to http://127.0.0.1:3000/
Completed 302 Found in 214ms (ActiveRecord: 178.7ms | Allocations: 9167)


Started GET "/" for 127.0.0.1 at 2023-01-02 17:01:46 +0800
Processing by StoreController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  â†³ app/views/store/index.html.erb:7
  Rendered store/index.html.erb within layouts/application (Duration: 4.9ms | Allocations: 1429)
  Rendered layout layouts/application.html.erb (Duration: 18.0ms | Allocations: 7423)
Completed 200 OK in 19ms (Views: 18.7ms | ActiveRecord: 0.2ms | Allocations: 7750)


